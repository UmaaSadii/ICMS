{"ast":null,"code":"import _objectSpread from\"C:/UMI/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{academicsService}from'../api/academicsService';import{instructorAttendanceService}from'../api/instructorAttendanceService';import{studentService}from'../api/studentInstructorService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultUpload=()=>{const[departments,setDepartments]=useState([]);const[semesters,setSemesters]=useState([]);const[students,setStudents]=useState([]);const[selectedDepartment,setSelectedDepartment]=useState(null);const[selectedSemester,setSelectedSemester]=useState(null);const[selectedStudent,setSelectedStudent]=useState(null);const[results,setResults]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[showForm,setShowForm]=useState(false);const[formData,setFormData]=useState({subject:'',exam_type:'Mid',exam_date:new Date().toISOString().split('T')[0],total_marks:100,obtained_marks:0,grade:''});const[assignedCourses,setAssignedCourses]=useState([]);useEffect(()=>{fetchDepartments();},[]);useEffect(()=>{if(selectedDepartment){const deptId=parseInt(selectedDepartment);if(!isNaN(deptId)){fetchSemesters(deptId);}setSelectedSemester(null);setStudents([]);setSelectedStudent(null);setResults([]);setAssignedCourses([]);}},[selectedDepartment]);useEffect(()=>{if(selectedDepartment&&selectedSemester){const deptId=parseInt(selectedDepartment);if(!isNaN(deptId)){fetchStudents(deptId,selectedSemester);}}},[selectedDepartment,selectedSemester]);const fetchDepartments=async()=>{try{setLoading(true);const response=await instructorAttendanceService.getDepartments();setDepartments(response);}catch(err){setError('Failed to fetch departments');}finally{setLoading(false);}};const fetchSemesters=async departmentId=>{try{setLoading(true);const response=await instructorAttendanceService.getSemestersByDepartment(departmentId);setSemesters(response);}catch(err){setError('Failed to fetch semesters');}finally{setLoading(false);}};const fetchStudents=async(departmentId,semesterId)=>{try{setLoading(true);const response=await instructorAttendanceService.getStudentsByDepartmentAndSemester(departmentId,semesterId);// Transform the response to match our Student interface\nconst transformedStudents=response.map(student=>{var _departments$find,_semesters$find;return{id:parseInt(student.student_id),// Use student_id as id\nstudent_id:student.student_id,name:student.name,roll_number:student.student_id,// Use student_id as roll_number\nemail:student.email,department:{name:((_departments$find=departments.find(d=>d.id===departmentId))===null||_departments$find===void 0?void 0:_departments$find.name)||'Unknown'},semester:{name:((_semesters$find=semesters.find(s=>s.id===semesterId))===null||_semesters$find===void 0?void 0:_semesters$find.name)||'Unknown'}};});setStudents(transformedStudents);}catch(err){setError('Failed to fetch students');}finally{setLoading(false);}};const fetchResults=async studentId=>{if(!studentId)return;try{setLoading(true);const response=await academicsService.getStudentResults(studentId);setResults(response.data);}catch(err){setError('Failed to fetch results');}finally{setLoading(false);}};const fetchAssignedCourses=async studentId=>{if(!studentId)return;try{setLoading(true);const response=await studentService.getStudentCourses(studentId);setAssignedCourses(response.data);}catch(err){setError('Failed to fetch assigned courses');}finally{setLoading(false);}};const handleStudentSelect=student=>{setSelectedStudent(student);fetchResults(student.id);fetchAssignedCourses(student.id);};const calculateGrade=(obtained,total)=>{const percentage=obtained/total*100;if(percentage>=90)return'A+';if(percentage>=80)return'A';if(percentage>=70)return'B+';if(percentage>=60)return'B';if(percentage>=50)return'C';if(percentage>=40)return'D';return'F';};const handleSubmit=async e=>{e.preventDefault();if(!selectedStudent||!selectedDepartment||!selectedSemester)return;const grade=calculateGrade(formData.obtained_marks,formData.total_marks);// Include department and semester in the data to submit\nconst dataToSubmit=_objectSpread(_objectSpread({},formData),{},{grade,department_id:parseInt(selectedDepartment),semester_id:selectedSemester});try{setLoading(true);await academicsService.createStudentResult(selectedStudent.id,dataToSubmit);fetchResults(selectedStudent.id);setShowForm(false);setFormData({subject:'',exam_type:'Mid',exam_date:new Date().toISOString().split('T')[0],total_marks:100,obtained_marks:0,grade:''});}catch(err){setError('Failed to create result record');}finally{setLoading(false);}};const handleDelete=async resultId=>{if(!window.confirm('Are you sure you want to delete this result record?'))return;try{setLoading(true);await academicsService.deleteResult(resultId);if(selectedStudent){fetchResults(selectedStudent.id);}}catch(err){setError('Failed to delete result record');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"Result Upload\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDepartment||'',onChange:e=>setSelectedDepartment(e.target.value||null),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.filter(dept=>dept.id!=null&&typeof dept.id==='number').map(dept=>/*#__PURE__*/_jsxs(\"option\",{value:dept.id.toString(),children:[dept.name,\" (\",dept.code,\")\"]},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Semester\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedSemester||'',onChange:e=>setSelectedSemester(e.target.value?parseInt(e.target.value):null),className:\"w-full p-2 border rounded\",disabled:!selectedDepartment,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Semester\"}),semesters.filter(sem=>sem.id!=null&&typeof sem.id==='number').map(sem=>/*#__PURE__*/_jsx(\"option\",{value:sem.id,children:sem.name},sem.id))]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Select Student\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-96 overflow-y-auto\",children:students.map(student=>{var _student$department;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleStudentSelect(student),className:\"p-3 border rounded cursor-pointer hover:bg-gray-50 \".concat((selectedStudent===null||selectedStudent===void 0?void 0:selectedStudent.id)===student.id?'bg-blue-50 border-blue-300':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:student.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Roll: \",student.roll_number,\" | Dept: \",(_student$department=student.department)===null||_student$department===void 0?void 0:_student$department.name]})]},student.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold\",children:[\"Results \",selectedStudent?\"for \".concat(selectedStudent.name):'']}),selectedStudent&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Add Result\"})]}),selectedStudent?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[results.map(result=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:result.subject}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[result.exam_type,\" - \",result.exam_date]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[\"Marks: \",result.obtained_marks,\"/\",result.total_marks,\" (\",(result.obtained_marks/result.total_marks*100).toFixed(1),\"%)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium \".concat(result.grade==='F'?'text-red-600':result.grade.startsWith('A')?'text-green-600':'text-blue-600'),children:[\"Grade: \",result.grade]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(result.result_id),className:\"text-red-600 hover:text-red-800\",children:\"Delete\"})]})},result.result_id)),results.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-center py-4\",children:\"No results found\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-center py-4\",children:\"Select a student to view results\"})]})]}),selectedDepartment&&selectedSemester&&students.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-center py-8\",children:\"No students found for the selected department and semester.\"})}),!selectedDepartment&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-center py-8\",children:\"Please select a department and semester to view students and upload results.\"})}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg w-96\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add Result\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Subject\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.subject,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{subject:e.target.value})),className:\"w-full p-2 border rounded\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select subject\"}),assignedCourses.map(course=>/*#__PURE__*/_jsx(\"option\",{value:course.name,children:course.name},course.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Exam Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.exam_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{exam_type:e.target.value})),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Mid\",children:\"Mid Term\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Final\",children:\"Final Term\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quiz\",children:\"Quiz\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Assignment\",children:\"Assignment\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Exam Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.exam_date,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{exam_date:e.target.value})),className:\"w-full p-2 border rounded\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Total Marks\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.total_marks,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{total_marks:parseInt(e.target.value)})),className:\"w-full p-2 border rounded\",min:\"1\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Obtained Marks\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.obtained_marks,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{obtained_marks:parseInt(e.target.value)})),className:\"w-full p-2 border rounded\",min:\"0\",max:formData.total_marks,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Grade (Auto-calculated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:calculateGrade(formData.obtained_marks,formData.total_marks),className:\"w-full p-2 border rounded bg-gray-100\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowForm(false),className:\"px-4 py-2 text-gray-600 hover:text-gray-800\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50\",children:loading?'Saving...':'Save'})]})]})]})})]});};export default ResultUpload;","map":{"version":3,"names":["React","useState","useEffect","academicsService","instructorAttendanceService","studentService","jsx","_jsx","jsxs","_jsxs","ResultUpload","departments","setDepartments","semesters","setSemesters","students","setStudents","selectedDepartment","setSelectedDepartment","selectedSemester","setSelectedSemester","selectedStudent","setSelectedStudent","results","setResults","loading","setLoading","error","setError","success","setSuccess","showForm","setShowForm","formData","setFormData","subject","exam_type","exam_date","Date","toISOString","split","total_marks","obtained_marks","grade","assignedCourses","setAssignedCourses","fetchDepartments","deptId","parseInt","isNaN","fetchSemesters","fetchStudents","response","getDepartments","err","departmentId","getSemestersByDepartment","semesterId","getStudentsByDepartmentAndSemester","transformedStudents","map","student","_departments$find","_semesters$find","id","student_id","name","roll_number","email","department","find","d","semester","s","fetchResults","studentId","getStudentResults","data","fetchAssignedCourses","getStudentCourses","handleStudentSelect","calculateGrade","obtained","total","percentage","handleSubmit","e","preventDefault","dataToSubmit","_objectSpread","department_id","semester_id","createStudentResult","handleDelete","resultId","window","confirm","deleteResult","className","children","value","onChange","target","filter","dept","toString","code","disabled","sem","_student$department","onClick","concat","result","toFixed","startsWith","result_id","length","onSubmit","required","course","type","min","max","readOnly"],"sources":["C:/UMI/Frontend/src/components/ResultUpload.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { academicsService } from '../api/academicsService';\r\nimport { instructorAttendanceService, Department, Semester, Student as AttendanceStudent } from '../api/instructorAttendanceService';\r\nimport { studentService } from '../api/studentInstructorService';\r\n\r\ninterface Student {\r\n  id: number;\r\n  student_id: string;\r\n  name: string;\r\n  roll_number: string;\r\n  email: string;\r\n  department: { name: string };\r\n  semester: { name: string };\r\n}\r\n\r\ninterface Result {\r\n  result_id: number;\r\n  subject: string;\r\n  exam_type: string;\r\n  exam_date: string;\r\n  total_marks: number;\r\n  obtained_marks: number;\r\n  grade: string;\r\n}\r\n\r\nconst ResultUpload: React.FC = () => {\r\n  const [departments, setDepartments] = useState<Department[]>([]);\r\n  const [semesters, setSemesters] = useState<Semester[]>([]);\r\n  const [students, setStudents] = useState<Student[]>([]);\r\n  const [selectedDepartment, setSelectedDepartment] = useState<string | null>(null);\r\n  const [selectedSemester, setSelectedSemester] = useState<number | null>(null);\r\n  const [selectedStudent, setSelectedStudent] = useState<Student | null>(null);\r\n  const [results, setResults] = useState<Result[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    subject: '',\r\n    exam_type: 'Mid',\r\n    exam_date: new Date().toISOString().split('T')[0],\r\n    total_marks: 100,\r\n    obtained_marks: 0,\r\n    grade: ''\r\n  });\r\n\r\n  const [assignedCourses, setAssignedCourses] = useState<{id: number; name: string}[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedDepartment) {\r\n      const deptId = parseInt(selectedDepartment);\r\n      if (!isNaN(deptId)) {\r\n        fetchSemesters(deptId);\r\n      }\r\n      setSelectedSemester(null);\r\n      setStudents([]);\r\n      setSelectedStudent(null);\r\n      setResults([]);\r\n      setAssignedCourses([]);\r\n    }\r\n  }, [selectedDepartment]);\r\n\r\n  useEffect(() => {\r\n    if (selectedDepartment && selectedSemester) {\r\n      const deptId = parseInt(selectedDepartment);\r\n      if (!isNaN(deptId)) {\r\n        fetchStudents(deptId, selectedSemester);\r\n      }\r\n    }\r\n  }, [selectedDepartment, selectedSemester]);\r\n\r\n  const fetchDepartments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await instructorAttendanceService.getDepartments();\r\n      setDepartments(response);\r\n    } catch (err: any) {\r\n      setError('Failed to fetch departments');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (departmentId: number) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await instructorAttendanceService.getSemestersByDepartment(departmentId);\r\n      setSemesters(response);\r\n    } catch (err: any) {\r\n      setError('Failed to fetch semesters');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (departmentId: number, semesterId: number) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await instructorAttendanceService.getStudentsByDepartmentAndSemester(departmentId, semesterId);\r\n      // Transform the response to match our Student interface\r\n      const transformedStudents: Student[] = response.map((student: AttendanceStudent) => ({\r\n        id: parseInt(student.student_id), // Use student_id as id\r\n        student_id: student.student_id,\r\n        name: student.name,\r\n        roll_number: student.student_id, // Use student_id as roll_number\r\n        email: student.email,\r\n        department: { name: departments.find(d => d.id === departmentId)?.name || 'Unknown' },\r\n        semester: { name: semesters.find(s => s.id === semesterId)?.name || 'Unknown' }\r\n      }));\r\n      setStudents(transformedStudents);\r\n    } catch (err: any) {\r\n      setError('Failed to fetch students');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchResults = async (studentId: number) => {\r\n    if (!studentId) return;\r\n    try {\r\n      setLoading(true);\r\n      const response = await academicsService.getStudentResults(studentId);\r\n      setResults(response.data);\r\n    } catch (err: any) {\r\n      setError('Failed to fetch results');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAssignedCourses = async (studentId: number) => {\r\n    if (!studentId) return;\r\n    try {\r\n      setLoading(true);\r\n      const response = await studentService.getStudentCourses(studentId);\r\n      setAssignedCourses(response.data);\r\n    } catch (err: any) {\r\n      setError('Failed to fetch assigned courses');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStudentSelect = (student: Student) => {\r\n    setSelectedStudent(student);\r\n    fetchResults(student.id);\r\n    fetchAssignedCourses(student.id);\r\n  };\r\n\r\n  const calculateGrade = (obtained: number, total: number): string => {\r\n    const percentage = (obtained / total) * 100;\r\n    if (percentage >= 90) return 'A+';\r\n    if (percentage >= 80) return 'A';\r\n    if (percentage >= 70) return 'B+';\r\n    if (percentage >= 60) return 'B';\r\n    if (percentage >= 50) return 'C';\r\n    if (percentage >= 40) return 'D';\r\n    return 'F';\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedStudent || !selectedDepartment || !selectedSemester) return;\r\n\r\n    const grade = calculateGrade(formData.obtained_marks, formData.total_marks);\r\n    // Include department and semester in the data to submit\r\n    const dataToSubmit = { ...formData, grade, department_id: parseInt(selectedDepartment), semester_id: selectedSemester };\r\n\r\n    try {\r\n      setLoading(true);\r\n      await academicsService.createStudentResult(selectedStudent.id, dataToSubmit);\r\n      fetchResults(selectedStudent.id);\r\n      setShowForm(false);\r\n      setFormData({\r\n        subject: '',\r\n        exam_type: 'Mid',\r\n        exam_date: new Date().toISOString().split('T')[0],\r\n        total_marks: 100,\r\n        obtained_marks: 0,\r\n        grade: ''\r\n      });\r\n    } catch (err: any) {\r\n      setError('Failed to create result record');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (resultId: number) => {\r\n    if (!window.confirm('Are you sure you want to delete this result record?')) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      await academicsService.deleteResult(resultId);\r\n      if (selectedStudent) {\r\n        fetchResults(selectedStudent.id);\r\n      }\r\n    } catch (err: any) {\r\n      setError('Failed to delete result record');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">Result Upload</h2>\r\n\r\n      {error && (\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Selection Controls */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow mb-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Department</label>\r\n            <select\r\n              value={selectedDepartment || ''}\r\n              onChange={(e) => setSelectedDepartment(e.target.value || null)}\r\n              className=\"w-full p-2 border rounded\"\r\n            >\r\n              <option value=\"\">Select Department</option>\r\n              {departments\r\n                .filter((dept): dept is Department => dept.id != null && typeof dept.id === 'number')\r\n                .map((dept) => (\r\n                  <option key={dept.id} value={dept.id.toString()}>\r\n                    {dept.name} ({dept.code})\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Semester</label>\r\n            <select\r\n              value={selectedSemester || ''}\r\n              onChange={(e) => setSelectedSemester(e.target.value ? parseInt(e.target.value) : null)}\r\n              className=\"w-full p-2 border rounded\"\r\n              disabled={!selectedDepartment}\r\n            >\r\n              <option value=\"\">Select Semester</option>\r\n              {semesters\r\n                .filter((sem): sem is Semester => sem.id != null && typeof sem.id === 'number')\r\n                .map((sem) => (\r\n                  <option key={sem.id} value={sem.id}>\r\n                    {sem.name}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Students List */}\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Select Student</h3>\r\n          <div className=\"space-y-2 max-h-96 overflow-y-auto\">\r\n            {students.map((student) => (\r\n              <div\r\n                key={student.id}\r\n                onClick={() => handleStudentSelect(student)}\r\n                className={`p-3 border rounded cursor-pointer hover:bg-gray-50 ${\r\n                  selectedStudent?.id === student.id ? 'bg-blue-50 border-blue-300' : ''\r\n                }`}\r\n              >\r\n                <div className=\"font-medium\">{student.name}</div>\r\n                <div className=\"text-sm text-gray-600\">\r\n                  Roll: {student.roll_number} | Dept: {student.department?.name}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Results Records */}\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-lg font-semibold\">\r\n              Results {selectedStudent ? `for ${selectedStudent.name}` : ''}\r\n            </h3>\r\n            {selectedStudent && (\r\n              <button\r\n                onClick={() => setShowForm(true)}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n              >\r\n                Add Result\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {selectedStudent ? (\r\n            <div className=\"space-y-2\">\r\n              {results.map((result) => (\r\n                <div key={result.result_id} className=\"p-3 border rounded\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <div className=\"font-medium\">{result.subject}</div>\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        {result.exam_type} - {result.exam_date}\r\n                      </div>\r\n                      <div className=\"text-sm\">\r\n                        Marks: {result.obtained_marks}/{result.total_marks} ({((result.obtained_marks / result.total_marks) * 100).toFixed(1)}%)\r\n                      </div>\r\n                      <div className={`text-sm font-medium ${\r\n                        result.grade === 'F' ? 'text-red-600' :\r\n                        result.grade.startsWith('A') ? 'text-green-600' : 'text-blue-600'\r\n                      }`}>\r\n                        Grade: {result.grade}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleDelete(result.result_id)}\r\n                      className=\"text-red-600 hover:text-red-800\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {results.length === 0 && (\r\n                <div className=\"text-gray-500 text-center py-4\">No results found</div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-gray-500 text-center py-4\">Select a student to view results</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {selectedDepartment && selectedSemester && students.length === 0 && !loading && (\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"text-gray-500 text-center py-8\">\r\n            No students found for the selected department and semester.\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!selectedDepartment && (\r\n        <div className=\"bg-white p-4 rounded-lg shadow\">\r\n          <div className=\"text-gray-500 text-center py-8\">\r\n            Please select a department and semester to view students and upload results.\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Result Form */}\r\n      {showForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n          <div className=\"bg-white p-6 rounded-lg w-96\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Add Result</h3>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Subject</label>\r\n                <select\r\n                  value={formData.subject}\r\n                  onChange={(e) => setFormData({...formData, subject: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                >\r\n                  <option value=\"\" disabled>Select subject</option>\r\n                  {assignedCourses.map((course) => (\r\n                    <option key={course.id} value={course.name}>\r\n                      {course.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Exam Type</label>\r\n                <select\r\n                  value={formData.exam_type}\r\n                  onChange={(e) => setFormData({...formData, exam_type: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                >\r\n                  <option value=\"Mid\">Mid Term</option>\r\n                  <option value=\"Final\">Final Term</option>\r\n                  <option value=\"Quiz\">Quiz</option>\r\n                  <option value=\"Assignment\">Assignment</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Exam Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={formData.exam_date}\r\n                  onChange={(e) => setFormData({...formData, exam_date: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Total Marks</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={formData.total_marks}\r\n                  onChange={(e) => setFormData({...formData, total_marks: parseInt(e.target.value)})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  min=\"1\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Obtained Marks</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={formData.obtained_marks}\r\n                  onChange={(e) => setFormData({...formData, obtained_marks: parseInt(e.target.value)})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  min=\"0\"\r\n                  max={formData.total_marks}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Grade (Auto-calculated)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={calculateGrade(formData.obtained_marks, formData.total_marks)}\r\n                  className=\"w-full p-2 border rounded bg-gray-100\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"flex justify-end space-x-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowForm(false)}\r\n                  className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50\"\r\n                >\r\n                  {loading ? 'Saving...' : 'Save'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}