{"ast":null,"code":"import _objectSpread from\"C:/UMI/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{instructorService,departmentService}from'../../api/studentInstructorService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InstructorModal=_ref=>{let{isOpen,onClose,instructorId,onSuccess}=_ref;const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[departments,setDepartments]=useState([]);const[imageFile,setImageFile]=useState(null);const[imagePreview,setImagePreview]=useState(null);const[formData,setFormData]=useState({name:'',email:'',phone:'',employee_id:'',department_id:'',// Changed from department to department_id\ndesignation:'',specialization:'',experience_years:'',hire_date:'',address:''});// Fetch departments\nuseEffect(()=>{const fetchDepartments=async()=>{try{const response=await departmentService.getAllDepartments();setDepartments(response.data);}catch(error){console.error('Failed to fetch departments:',error);setError('Failed to load departments. Please try again.');}};fetchDepartments();},[]);// Generate unique employee ID for new instructors\nuseEffect(()=>{if(!instructorId){const generateEmployeeId=()=>{const timestamp=Date.now().toString().slice(-4);const random=Math.floor(Math.random()*1000).toString().padStart(3,'0');return\"\".concat(timestamp).concat(random);};setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{employee_id:generateEmployeeId()}));}},[instructorId]);// Fetch instructor data if editing\nuseEffect(()=>{if(instructorId){const fetchInstructorData=async()=>{setIsLoading(true);try{var _instructor$user,_instructor$experienc;const response=await instructorService.getInstructorById(instructorId);const instructor=response.data;// For instructors, department is stored as object with id\nconst departmentId=instructor.department&&typeof instructor.department==='object'&&instructor.department.id?instructor.department.id:instructor.department_id||'';setFormData({name:instructor.name||'',email:((_instructor$user=instructor.user)===null||_instructor$user===void 0?void 0:_instructor$user.email)||'',phone:instructor.phone||'',employee_id:instructor.employee_id||'',department_id:departmentId?departmentId.toString():'',designation:instructor.designation||'',specialization:instructor.specialization||'',experience_years:((_instructor$experienc=instructor.experience_years)===null||_instructor$experienc===void 0?void 0:_instructor$experienc.toString())||'',hire_date:instructor.hire_date?new Date(instructor.hire_date).toISOString().split('T')[0]:'',address:instructor.address||''});if(instructor.image){setImagePreview(instructor.image);}}catch(error){console.error('Failed to fetch instructor data:',error);setError('Failed to load instructor data. Please try again.');}finally{setIsLoading(false);}};fetchInstructorData();}},[instructorId,departments]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleImageChange=e=>{if(e.target.files&&e.target.files[0]){const file=e.target.files[0];setImageFile(file);setImagePreview(URL.createObjectURL(file));}};const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError(null);try{// Validate required fields\nif(!formData.name.trim()){setError('Name is required.');setIsLoading(false);return;}if(!formData.email.trim()){setError('Email is required.');setIsLoading(false);return;}if(!formData.phone.trim()){setError('Phone number is required.');setIsLoading(false);return;}if(!formData.department_id){setError('Department is required.');setIsLoading(false);return;}if(!formData.specialization.trim()){setError('Specialization is required.');setIsLoading(false);return;}const formDataToSend=new FormData();// Add all form fields to FormData\nformDataToSend.append('name',formData.name);formDataToSend.append('phone',formData.phone);// Send the department ID as required by the backend\nif(formData.department_id){formDataToSend.append('department_id',formData.department_id);}if(formData.employee_id)formDataToSend.append('employee_id',formData.employee_id);if(formData.designation)formDataToSend.append('designation',formData.designation);if(formData.specialization)formDataToSend.append('specialization',formData.specialization);if(formData.experience_years)formDataToSend.append('experience_years',String(parseInt(formData.experience_years,10)||0));if(formData.hire_date)formDataToSend.append('hire_date',formData.hire_date);if(formData.address)formDataToSend.append('address',formData.address);// Add email for user association - this is crucial for both create and update\nif(formData.email){formDataToSend.append('user_email',formData.email);}console.log('Instructor data to send:',{name:formData.name,email:formData.email,department_id:formData.department_id,formData:Object.fromEntries(formDataToSend.entries())});let instructorResponse;if(instructorId){// Update existing instructor\ninstructorResponse=await instructorService.updateInstructor(instructorId,formDataToSend);}else{// Create new instructor\ninstructorResponse=await instructorService.createInstructor(formDataToSend);}// Upload image separately after instructor creation/update if image is selected\nif(imageFile&&imageFile instanceof File){try{const imageFormData=new FormData();imageFormData.append('image',imageFile);const instructorIdToUse=instructorId||instructorResponse.data.id;await instructorService.uploadInstructorImage(instructorIdToUse,imageFormData);}catch(uploadError){console.error('Failed to upload instructor image:',uploadError);setError('Instructor saved but failed to upload image. Please try uploading the image separately.');}}onSuccess();}catch(error){var _error$response,_error$response$data;console.error('Failed to save instructor:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to save instructor. Please try again.');}finally{setIsLoading(false);}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:instructorId?'Edit Instructor':'Add New Instructor'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",role:\"alert\",children:/*#__PURE__*/_jsx(\"p\",{children:error})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:formData.phone,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:[\"Employee ID \",!instructorId&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"(Auto-generated)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employee_id\",value:formData.employee_id,onChange:instructorId?handleInputChange:undefined,readOnly:!instructorId,className:\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 \".concat(!instructorId?'bg-gray-100 cursor-not-allowed':'border-gray-300')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"department_id\",value:formData.department_id,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.id.toString(),children:dept.name},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Designation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"designation\",value:formData.designation,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Specialization *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"specialization\",value:formData.specialization,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Experience (years)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"experience_years\",value:formData.experience_years,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Hire Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"hire_date\",value:formData.hire_date,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Profile Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"}),imagePreview&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:\"h-32 w-32 object-cover rounded-md\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-indigo-400\",children:isLoading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Saving...\"]}):'Save Instructor'})]})]})]})});};export default InstructorModal;","map":{"version":3,"names":["React","useState","useEffect","instructorService","departmentService","jsx","_jsx","jsxs","_jsxs","InstructorModal","_ref","isOpen","onClose","instructorId","onSuccess","isLoading","setIsLoading","error","setError","departments","setDepartments","imageFile","setImageFile","imagePreview","setImagePreview","formData","setFormData","name","email","phone","employee_id","department_id","designation","specialization","experience_years","hire_date","address","fetchDepartments","response","getAllDepartments","data","console","generateEmployeeId","timestamp","Date","now","toString","slice","random","Math","floor","padStart","concat","prev","_objectSpread","fetchInstructorData","_instructor$user","_instructor$experienc","getInstructorById","instructor","departmentId","department","id","user","toISOString","split","image","handleInputChange","e","value","target","handleImageChange","files","file","URL","createObjectURL","handleSubmit","preventDefault","trim","formDataToSend","FormData","append","String","parseInt","log","Object","fromEntries","entries","instructorResponse","updateInstructor","createInstructor","File","imageFormData","instructorIdToUse","uploadInstructorImage","uploadError","_error$response","_error$response$data","message","className","children","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","role","onSubmit","type","onChange","required","undefined","readOnly","map","dept","accept","src","alt","disabled","cx","cy","r"],"sources":["C:/UMI/Frontend/src/components/modals/InstructorModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { instructorService, departmentService } from '../../api/studentInstructorService';\r\n\r\ninterface InstructorModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  instructorId?: number;\r\n  onSuccess: () => void;\r\n}\r\n\r\ninterface Department {\r\n  id: number;\r\n  name: string;\r\n  code: string;\r\n}\r\n\r\nconst InstructorModal: React.FC<InstructorModalProps> = ({ isOpen, onClose, instructorId, onSuccess }): React.ReactElement | null => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [departments, setDepartments] = useState<Department[]>([]);\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    employee_id: '',\r\n    department_id: '',  // Changed from department to department_id\r\n    designation: '',\r\n    specialization: '',\r\n    experience_years: '',\r\n    hire_date: '',\r\n    address: '',\r\n  });\r\n\r\n  // Fetch departments\r\n  useEffect(() => {\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const response = await departmentService.getAllDepartments();\r\n        setDepartments(response.data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch departments:', error);\r\n        setError('Failed to load departments. Please try again.');\r\n      }\r\n    };\r\n\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  // Generate unique employee ID for new instructors\r\n  useEffect(() => {\r\n    if (!instructorId) {\r\n      const generateEmployeeId = () => {\r\n        const timestamp = Date.now().toString().slice(-4);\r\n        const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');\r\n        return `${timestamp}${random}`;\r\n      };\r\n\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        employee_id: generateEmployeeId()\r\n      }));\r\n    }\r\n  }, [instructorId]);\r\n\r\n  // Fetch instructor data if editing\r\n  useEffect(() => {\r\n    if (instructorId) {\r\n      const fetchInstructorData = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n          const response = await instructorService.getInstructorById(instructorId);\r\n          const instructor = response.data;\r\n          \r\n          // For instructors, department is stored as object with id\r\n          const departmentId = (instructor.department && typeof instructor.department === 'object' && instructor.department.id)\r\n            ? instructor.department.id\r\n            : instructor.department_id || '';\r\n\r\n          setFormData({\r\n            name: instructor.name || '',\r\n            email: instructor.user?.email || '',\r\n            phone: instructor.phone || '',\r\n            employee_id: instructor.employee_id || '',\r\n            department_id: departmentId ? departmentId.toString() : '',\r\n            designation: instructor.designation || '',\r\n            specialization: instructor.specialization || '',\r\n            experience_years: instructor.experience_years?.toString() || '',\r\n            hire_date: instructor.hire_date ? new Date(instructor.hire_date).toISOString().split('T')[0] : '',\r\n            address: instructor.address || '',\r\n          });\r\n          \r\n          if (instructor.image) {\r\n            setImagePreview(instructor.image);\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch instructor data:', error);\r\n          setError('Failed to load instructor data. Please try again.');\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n\r\n      fetchInstructorData();\r\n    }\r\n  }, [instructorId, departments]);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      setImageFile(file);\r\n      setImagePreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Validate required fields\r\n      if (!formData.name.trim()) {\r\n        setError('Name is required.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.email.trim()) {\r\n        setError('Email is required.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.phone.trim()) {\r\n        setError('Phone number is required.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.department_id) {\r\n        setError('Department is required.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!formData.specialization.trim()) {\r\n        setError('Specialization is required.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const formDataToSend = new FormData();\r\n\r\n      // Add all form fields to FormData\r\n      formDataToSend.append('name', formData.name);\r\n      formDataToSend.append('phone', formData.phone);\r\n\r\n      // Send the department ID as required by the backend\r\n      if (formData.department_id) {\r\n        formDataToSend.append('department_id', formData.department_id);\r\n      }\r\n\r\n      if (formData.employee_id) formDataToSend.append('employee_id', formData.employee_id);\r\n      if (formData.designation) formDataToSend.append('designation', formData.designation);\r\n      if (formData.specialization) formDataToSend.append('specialization', formData.specialization);\r\n      if (formData.experience_years) formDataToSend.append('experience_years', String(parseInt(formData.experience_years, 10) || 0));\r\n      if (formData.hire_date) formDataToSend.append('hire_date', formData.hire_date);\r\n      if (formData.address) formDataToSend.append('address', formData.address);\r\n\r\n      // Add email for user association - this is crucial for both create and update\r\n      if (formData.email) {\r\n        formDataToSend.append('user_email', formData.email);\r\n      }\r\n\r\n      console.log('Instructor data to send:', {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        department_id: formData.department_id,\r\n        formData: Object.fromEntries(formDataToSend.entries())\r\n      });\r\n\r\n      let instructorResponse;\r\n          if (instructorId) {\r\n            // Update existing instructor\r\n            instructorResponse = await instructorService.updateInstructor(instructorId, formDataToSend);\r\n          } else {\r\n            // Create new instructor\r\n            instructorResponse = await instructorService.createInstructor(formDataToSend);\r\n          }\r\n\r\n      // Upload image separately after instructor creation/update if image is selected\r\n      if (imageFile && imageFile instanceof File) {\r\n        try {\r\n          const imageFormData = new FormData();\r\n          imageFormData.append('image', imageFile);\r\n          const instructorIdToUse = instructorId || instructorResponse.data.id;\r\n          await instructorService.uploadInstructorImage(instructorIdToUse, imageFormData);\r\n        } catch (uploadError) {\r\n          console.error('Failed to upload instructor image:', uploadError);\r\n          setError('Instructor saved but failed to upload image. Please try uploading the image separately.');\r\n        }\r\n      }\r\n\r\n\r\n\r\n      onSuccess();\r\n    } catch (error: any) {\r\n      console.error('Failed to save instructor:', error);\r\n      setError(error.response?.data?.message || 'Failed to save instructor. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">\r\n            {instructorId ? 'Edit Instructor' : 'Add New Instructor'}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-500 hover:text-gray-700\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\" role=\"alert\">\r\n            <p>{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {/* Basic Information */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name *</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email *</label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone *</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                value={formData.phone}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Employee ID {!instructorId && <span className=\"text-sm text-gray-500\">(Auto-generated)</span>}</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"employee_id\"\r\n                value={formData.employee_id}\r\n                onChange={instructorId ? handleInputChange : undefined}\r\n                readOnly={!instructorId}\r\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${!instructorId ? 'bg-gray-100 cursor-not-allowed' : 'border-gray-300'}`}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department *</label>\r\n              <select\r\n                name=\"department_id\"\r\n                value={formData.department_id}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                <option value=\"\">Select Department</option>\r\n                {departments.map((dept) => (\r\n                  <option key={dept.id} value={dept.id.toString()}>\r\n                    {dept.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Designation</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"designation\"\r\n                value={formData.designation}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Specialization *</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"specialization\"\r\n                value={formData.specialization}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Experience (years)</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"experience_years\"\r\n                value={formData.experience_years}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hire Date</label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"hire_date\"\r\n                value={formData.hire_date}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Address</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"address\"\r\n                value={formData.address}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Profile Image</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n              {imagePreview && (\r\n                <div className=\"mt-2\">\r\n                  <img\r\n                    src={imagePreview}\r\n                    alt=\"Preview\"\r\n                    className=\"h-32 w-32 object-cover rounded-md\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3 mt-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-indigo-400\"\r\n            >\r\n              {isLoading ? (\r\n                <span className=\"flex items-center\">\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Saving...\r\n                </span>\r\n              ) : (\r\n                'Save Instructor'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstructorModal;"],"mappings":"oGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,iBAAiB,CAAEC,iBAAiB,KAAQ,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAe1F,KAAM,CAAAC,eAA+C,CAAGC,IAAA,EAA6E,IAA5E,CAAEC,MAAM,CAAEC,OAAO,CAAEC,YAAY,CAAEC,SAAU,CAAC,CAAAJ,IAAA,CACnG,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAU,KAAK,CAAC,CAC1D,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAe,EAAE,CAAC,CAChE,KAAM,CAACoB,SAAS,CAAEC,YAAY,CAAC,CAAGrB,QAAQ,CAAc,IAAI,CAAC,CAC7D,KAAM,CAACsB,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAgB,IAAI,CAAC,CAErE,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CACvC0B,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EAAE,CACfC,aAAa,CAAE,EAAE,CAAG;AACpBC,WAAW,CAAE,EAAE,CACfC,cAAc,CAAE,EAAE,CAClBC,gBAAgB,CAAE,EAAE,CACpBC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EACX,CAAC,CAAC,CAEF;AACAlC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlC,iBAAiB,CAACmC,iBAAiB,CAAC,CAAC,CAC5DnB,cAAc,CAACkB,QAAQ,CAACE,IAAI,CAAC,CAC/B,CAAE,MAAOvB,KAAK,CAAE,CACdwB,OAAO,CAACxB,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDC,QAAQ,CAAC,+CAA+C,CAAC,CAC3D,CACF,CAAC,CAEDmB,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAnC,SAAS,CAAC,IAAM,CACd,GAAI,CAACW,YAAY,CAAE,CACjB,KAAM,CAAA6B,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAC,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACD,MAAM,CAAC,CAAC,CAAG,IAAI,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAC3E,SAAAC,MAAA,CAAUT,SAAS,EAAAS,MAAA,CAAGJ,MAAM,EAC9B,CAAC,CAEDtB,WAAW,CAAC2B,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPvB,WAAW,CAAEY,kBAAkB,CAAC,CAAC,EACjC,CAAC,CACL,CACF,CAAC,CAAE,CAAC7B,YAAY,CAAC,CAAC,CAElB;AACAX,SAAS,CAAC,IAAM,CACd,GAAIW,YAAY,CAAE,CAChB,KAAM,CAAA0C,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtCvC,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,KAAAwC,gBAAA,CAAAC,qBAAA,CACF,KAAM,CAAAnB,QAAQ,CAAG,KAAM,CAAAnC,iBAAiB,CAACuD,iBAAiB,CAAC7C,YAAY,CAAC,CACxE,KAAM,CAAA8C,UAAU,CAAGrB,QAAQ,CAACE,IAAI,CAEhC;AACA,KAAM,CAAAoB,YAAY,CAAID,UAAU,CAACE,UAAU,EAAI,MAAO,CAAAF,UAAU,CAACE,UAAU,GAAK,QAAQ,EAAIF,UAAU,CAACE,UAAU,CAACC,EAAE,CAChHH,UAAU,CAACE,UAAU,CAACC,EAAE,CACxBH,UAAU,CAAC5B,aAAa,EAAI,EAAE,CAElCL,WAAW,CAAC,CACVC,IAAI,CAAEgC,UAAU,CAAChC,IAAI,EAAI,EAAE,CAC3BC,KAAK,CAAE,EAAA4B,gBAAA,CAAAG,UAAU,CAACI,IAAI,UAAAP,gBAAA,iBAAfA,gBAAA,CAAiB5B,KAAK,GAAI,EAAE,CACnCC,KAAK,CAAE8B,UAAU,CAAC9B,KAAK,EAAI,EAAE,CAC7BC,WAAW,CAAE6B,UAAU,CAAC7B,WAAW,EAAI,EAAE,CACzCC,aAAa,CAAE6B,YAAY,CAAGA,YAAY,CAACd,QAAQ,CAAC,CAAC,CAAG,EAAE,CAC1Dd,WAAW,CAAE2B,UAAU,CAAC3B,WAAW,EAAI,EAAE,CACzCC,cAAc,CAAE0B,UAAU,CAAC1B,cAAc,EAAI,EAAE,CAC/CC,gBAAgB,CAAE,EAAAuB,qBAAA,CAAAE,UAAU,CAACzB,gBAAgB,UAAAuB,qBAAA,iBAA3BA,qBAAA,CAA6BX,QAAQ,CAAC,CAAC,GAAI,EAAE,CAC/DX,SAAS,CAAEwB,UAAU,CAACxB,SAAS,CAAG,GAAI,CAAAS,IAAI,CAACe,UAAU,CAACxB,SAAS,CAAC,CAAC6B,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG,EAAE,CACjG7B,OAAO,CAAEuB,UAAU,CAACvB,OAAO,EAAI,EACjC,CAAC,CAAC,CAEF,GAAIuB,UAAU,CAACO,KAAK,CAAE,CACpB1C,eAAe,CAACmC,UAAU,CAACO,KAAK,CAAC,CACnC,CACF,CAAE,MAAOjD,KAAK,CAAE,CACdwB,OAAO,CAACxB,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxDC,QAAQ,CAAC,mDAAmD,CAAC,CAC/D,CAAC,OAAS,CACRF,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAEDuC,mBAAmB,CAAC,CAAC,CACvB,CACF,CAAC,CAAE,CAAC1C,YAAY,CAAEM,WAAW,CAAC,CAAC,CAE/B,KAAM,CAAAgD,iBAAiB,CAAIC,CAAgF,EAAK,CAC9G,KAAM,CAAEzC,IAAI,CAAE0C,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChC5C,WAAW,CAAC2B,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAAC1B,IAAI,EAAG0C,KAAK,EAAG,CAAC,CACnD,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAIH,CAAsC,EAAK,CACpE,GAAIA,CAAC,CAACE,MAAM,CAACE,KAAK,EAAIJ,CAAC,CAACE,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC,CAAE,CACvC,KAAM,CAAAC,IAAI,CAAGL,CAAC,CAACE,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC,CAC9BlD,YAAY,CAACmD,IAAI,CAAC,CAClBjD,eAAe,CAACkD,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CAC5C,CACF,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAR,CAAkB,EAAK,CACjDA,CAAC,CAACS,cAAc,CAAC,CAAC,CAClB7D,YAAY,CAAC,IAAI,CAAC,CAClBE,QAAQ,CAAC,IAAI,CAAC,CAEd,GAAI,CACF;AACA,GAAI,CAACO,QAAQ,CAACE,IAAI,CAACmD,IAAI,CAAC,CAAC,CAAE,CACzB5D,QAAQ,CAAC,mBAAmB,CAAC,CAC7BF,YAAY,CAAC,KAAK,CAAC,CACnB,OACF,CAEA,GAAI,CAACS,QAAQ,CAACG,KAAK,CAACkD,IAAI,CAAC,CAAC,CAAE,CAC1B5D,QAAQ,CAAC,oBAAoB,CAAC,CAC9BF,YAAY,CAAC,KAAK,CAAC,CACnB,OACF,CAEA,GAAI,CAACS,QAAQ,CAACI,KAAK,CAACiD,IAAI,CAAC,CAAC,CAAE,CAC1B5D,QAAQ,CAAC,2BAA2B,CAAC,CACrCF,YAAY,CAAC,KAAK,CAAC,CACnB,OACF,CAEA,GAAI,CAACS,QAAQ,CAACM,aAAa,CAAE,CAC3Bb,QAAQ,CAAC,yBAAyB,CAAC,CACnCF,YAAY,CAAC,KAAK,CAAC,CACnB,OACF,CAEA,GAAI,CAACS,QAAQ,CAACQ,cAAc,CAAC6C,IAAI,CAAC,CAAC,CAAE,CACnC5D,QAAQ,CAAC,6BAA6B,CAAC,CACvCF,YAAY,CAAC,KAAK,CAAC,CACnB,OACF,CAEA,KAAM,CAAA+D,cAAc,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAErC;AACAD,cAAc,CAACE,MAAM,CAAC,MAAM,CAAExD,QAAQ,CAACE,IAAI,CAAC,CAC5CoD,cAAc,CAACE,MAAM,CAAC,OAAO,CAAExD,QAAQ,CAACI,KAAK,CAAC,CAE9C;AACA,GAAIJ,QAAQ,CAACM,aAAa,CAAE,CAC1BgD,cAAc,CAACE,MAAM,CAAC,eAAe,CAAExD,QAAQ,CAACM,aAAa,CAAC,CAChE,CAEA,GAAIN,QAAQ,CAACK,WAAW,CAAEiD,cAAc,CAACE,MAAM,CAAC,aAAa,CAAExD,QAAQ,CAACK,WAAW,CAAC,CACpF,GAAIL,QAAQ,CAACO,WAAW,CAAE+C,cAAc,CAACE,MAAM,CAAC,aAAa,CAAExD,QAAQ,CAACO,WAAW,CAAC,CACpF,GAAIP,QAAQ,CAACQ,cAAc,CAAE8C,cAAc,CAACE,MAAM,CAAC,gBAAgB,CAAExD,QAAQ,CAACQ,cAAc,CAAC,CAC7F,GAAIR,QAAQ,CAACS,gBAAgB,CAAE6C,cAAc,CAACE,MAAM,CAAC,kBAAkB,CAAEC,MAAM,CAACC,QAAQ,CAAC1D,QAAQ,CAACS,gBAAgB,CAAE,EAAE,CAAC,EAAI,CAAC,CAAC,CAAC,CAC9H,GAAIT,QAAQ,CAACU,SAAS,CAAE4C,cAAc,CAACE,MAAM,CAAC,WAAW,CAAExD,QAAQ,CAACU,SAAS,CAAC,CAC9E,GAAIV,QAAQ,CAACW,OAAO,CAAE2C,cAAc,CAACE,MAAM,CAAC,SAAS,CAAExD,QAAQ,CAACW,OAAO,CAAC,CAExE;AACA,GAAIX,QAAQ,CAACG,KAAK,CAAE,CAClBmD,cAAc,CAACE,MAAM,CAAC,YAAY,CAAExD,QAAQ,CAACG,KAAK,CAAC,CACrD,CAEAa,OAAO,CAAC2C,GAAG,CAAC,0BAA0B,CAAE,CACtCzD,IAAI,CAAEF,QAAQ,CAACE,IAAI,CACnBC,KAAK,CAAEH,QAAQ,CAACG,KAAK,CACrBG,aAAa,CAAEN,QAAQ,CAACM,aAAa,CACrCN,QAAQ,CAAE4D,MAAM,CAACC,WAAW,CAACP,cAAc,CAACQ,OAAO,CAAC,CAAC,CACvD,CAAC,CAAC,CAEF,GAAI,CAAAC,kBAAkB,CAClB,GAAI3E,YAAY,CAAE,CAChB;AACA2E,kBAAkB,CAAG,KAAM,CAAArF,iBAAiB,CAACsF,gBAAgB,CAAC5E,YAAY,CAAEkE,cAAc,CAAC,CAC7F,CAAC,IAAM,CACL;AACAS,kBAAkB,CAAG,KAAM,CAAArF,iBAAiB,CAACuF,gBAAgB,CAACX,cAAc,CAAC,CAC/E,CAEJ;AACA,GAAI1D,SAAS,EAAIA,SAAS,WAAY,CAAAsE,IAAI,CAAE,CAC1C,GAAI,CACF,KAAM,CAAAC,aAAa,CAAG,GAAI,CAAAZ,QAAQ,CAAC,CAAC,CACpCY,aAAa,CAACX,MAAM,CAAC,OAAO,CAAE5D,SAAS,CAAC,CACxC,KAAM,CAAAwE,iBAAiB,CAAGhF,YAAY,EAAI2E,kBAAkB,CAAChD,IAAI,CAACsB,EAAE,CACpE,KAAM,CAAA3D,iBAAiB,CAAC2F,qBAAqB,CAACD,iBAAiB,CAAED,aAAa,CAAC,CACjF,CAAE,MAAOG,WAAW,CAAE,CACpBtD,OAAO,CAACxB,KAAK,CAAC,oCAAoC,CAAE8E,WAAW,CAAC,CAChE7E,QAAQ,CAAC,yFAAyF,CAAC,CACrG,CACF,CAIAJ,SAAS,CAAC,CAAC,CACb,CAAE,MAAOG,KAAU,CAAE,KAAA+E,eAAA,CAAAC,oBAAA,CACnBxD,OAAO,CAACxB,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDC,QAAQ,CAAC,EAAA8E,eAAA,CAAA/E,KAAK,CAACqB,QAAQ,UAAA0D,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBxD,IAAI,UAAAyD,oBAAA,iBAApBA,oBAAA,CAAsBC,OAAO,GAAI,8CAA8C,CAAC,CAC3F,CAAC,OAAS,CACRlF,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,GAAI,CAACL,MAAM,CAAE,MAAO,KAAI,CAExB,mBACEL,IAAA,QAAK6F,SAAS,CAAC,+EAA+E,CAAAC,QAAA,cAC5F5F,KAAA,QAAK2F,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC9F5F,KAAA,QAAK2F,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9F,IAAA,OAAI6F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAClCvF,YAAY,CAAG,iBAAiB,CAAG,oBAAoB,CACtD,CAAC,cACLP,IAAA,WACE+F,OAAO,CAAEzF,OAAQ,CACjBuF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7C9F,IAAA,QAAK6F,SAAS,CAAC,SAAS,CAACG,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,4BAA4B,CAAAL,QAAA,cAC/G9F,IAAA,SAAMoG,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACC,CAAC,CAAC,sBAAsB,CAAO,CAAC,CAChG,CAAC,CACA,CAAC,EACN,CAAC,CAEL5F,KAAK,eACJX,IAAA,QAAK6F,SAAS,CAAC,sEAAsE,CAACW,IAAI,CAAC,OAAO,CAAAV,QAAA,cAChG9F,IAAA,MAAA8F,QAAA,CAAInF,KAAK,CAAI,CAAC,CACX,CACN,cAEDT,KAAA,SAAMuG,QAAQ,CAAEnC,YAAa,CAACuB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACjD5F,KAAA,QAAK2F,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpD5F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC9E9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,MAAM,CACX0C,KAAK,CAAE5C,QAAQ,CAACE,IAAK,CACrBsF,QAAQ,CAAE9C,iBAAkB,CAC5B+C,QAAQ,MACRf,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E9F,IAAA,UACE0G,IAAI,CAAC,OAAO,CACZrF,IAAI,CAAC,OAAO,CACZ0C,KAAK,CAAE5C,QAAQ,CAACG,KAAM,CACtBqF,QAAQ,CAAE9C,iBAAkB,CAC5B+C,QAAQ,MACRf,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,OAAO,CACZ0C,KAAK,CAAE5C,QAAQ,CAACI,KAAM,CACtBoF,QAAQ,CAAE9C,iBAAkB,CAC5B+C,QAAQ,MACRf,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE5F,KAAA,UAAO2F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAC,cAAY,CAAC,CAACvF,YAAY,eAAIP,IAAA,SAAM6F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,EAAQ,CAAC,cACtK9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,aAAa,CAClB0C,KAAK,CAAE5C,QAAQ,CAACK,WAAY,CAC5BmF,QAAQ,CAAEpG,YAAY,CAAGsD,iBAAiB,CAAGgD,SAAU,CACvDC,QAAQ,CAAE,CAACvG,YAAa,CACxBsF,SAAS,wGAAA/C,MAAA,CAAyG,CAACvC,YAAY,CAAG,gCAAgC,CAAG,iBAAiB,CAAG,CAC1L,CAAC,EACC,CAAC,cAENL,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACpF5F,KAAA,WACEmB,IAAI,CAAC,eAAe,CACpB0C,KAAK,CAAE5C,QAAQ,CAACM,aAAc,CAC9BkF,QAAQ,CAAE9C,iBAAkB,CAC5B+C,QAAQ,MACRf,SAAS,CAAC,qHAAqH,CAAAC,QAAA,eAE/H9F,IAAA,WAAQ+D,KAAK,CAAC,EAAE,CAAA+B,QAAA,CAAC,mBAAiB,CAAQ,CAAC,CAC1CjF,WAAW,CAACkG,GAAG,CAAEC,IAAI,eACpBhH,IAAA,WAAsB+D,KAAK,CAAEiD,IAAI,CAACxD,EAAE,CAAChB,QAAQ,CAAC,CAAE,CAAAsD,QAAA,CAC7CkB,IAAI,CAAC3F,IAAI,EADC2F,IAAI,CAACxD,EAEV,CACT,CAAC,EACI,CAAC,EACN,CAAC,cAENtD,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,aAAa,CAClB0C,KAAK,CAAE5C,QAAQ,CAACO,WAAY,CAC5BiF,QAAQ,CAAE9C,iBAAkB,CAC5BgC,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACxF9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,gBAAgB,CACrB0C,KAAK,CAAE5C,QAAQ,CAACQ,cAAe,CAC/BgF,QAAQ,CAAE9C,iBAAkB,CAC5B+C,QAAQ,MACRf,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC1F9F,IAAA,UACE0G,IAAI,CAAC,QAAQ,CACbrF,IAAI,CAAC,kBAAkB,CACvB0C,KAAK,CAAE5C,QAAQ,CAACS,gBAAiB,CACjC+E,QAAQ,CAAE9C,iBAAkB,CAC5BgC,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAA4F,QAAA,eACE9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,WAAW,CAChB0C,KAAK,CAAE5C,QAAQ,CAACU,SAAU,CAC1B8E,QAAQ,CAAE9C,iBAAkB,CAC5BgC,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAK2F,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXrF,IAAI,CAAC,SAAS,CACd0C,KAAK,CAAE5C,QAAQ,CAACW,OAAQ,CACxB6E,QAAQ,CAAE9C,iBAAkB,CAC5BgC,SAAS,CAAC,qHAAqH,CAChI,CAAC,EACC,CAAC,cAEN3F,KAAA,QAAK2F,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9F,IAAA,UAAO6F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACrF9F,IAAA,UACE0G,IAAI,CAAC,MAAM,CACXO,MAAM,CAAC,SAAS,CAChBN,QAAQ,CAAE1C,iBAAkB,CAC5B4B,SAAS,CAAC,qHAAqH,CAChI,CAAC,CACD5E,YAAY,eACXjB,IAAA,QAAK6F,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9F,IAAA,QACEkH,GAAG,CAAEjG,YAAa,CAClBkG,GAAG,CAAC,SAAS,CACbtB,SAAS,CAAC,mCAAmC,CAC9C,CAAC,CACC,CACN,EACE,CAAC,EACH,CAAC,cAEN3F,KAAA,QAAK2F,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C9F,IAAA,WACE0G,IAAI,CAAC,QAAQ,CACbX,OAAO,CAAEzF,OAAQ,CACjBuF,SAAS,CAAC,sJAAsJ,CAAAC,QAAA,CACjK,QAED,CAAQ,CAAC,cACT9F,IAAA,WACE0G,IAAI,CAAC,QAAQ,CACbU,QAAQ,CAAE3G,SAAU,CACpBoF,SAAS,CAAC,oKAAoK,CAAAC,QAAA,CAE7KrF,SAAS,cACRP,KAAA,SAAM2F,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACjC5F,KAAA,QAAK2F,SAAS,CAAC,4CAA4C,CAACM,KAAK,CAAC,4BAA4B,CAACH,IAAI,CAAC,MAAM,CAACE,OAAO,CAAC,WAAW,CAAAJ,QAAA,eAC5H9F,IAAA,WAAQ6F,SAAS,CAAC,YAAY,CAACwB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACtB,MAAM,CAAC,cAAc,CAACK,WAAW,CAAC,GAAG,CAAS,CAAC,cACrGtG,IAAA,SAAM6F,SAAS,CAAC,YAAY,CAACG,IAAI,CAAC,cAAc,CAACO,CAAC,CAAC,iHAAiH,CAAO,CAAC,EACzK,CAAC,YAER,EAAM,CAAC,CAEP,iBACD,CACK,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApG,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}