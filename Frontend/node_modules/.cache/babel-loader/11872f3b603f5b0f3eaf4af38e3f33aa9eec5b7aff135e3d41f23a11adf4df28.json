{"ast":null,"code":"import React,{useState,useEffect}from'react';import{academicsService}from'../../api/academicsService_enhanced';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ResultManagement=()=>{const[results,setResults]=useState([]);const[filteredResults,setFilteredResults]=useState([]);const[departments,setDepartments]=useState([]);const[courses,setCourses]=useState([]);const[selectedDepartment,setSelectedDepartment]=useState(null);const[selectedCourse,setSelectedCourse]=useState(null);const[loading,setLoading]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[selectedGrade,setSelectedGrade]=useState('');const[selectedExamType,setSelectedExamType]=useState('');const[showFilters,setShowFilters]=useState(false);const[selectedResults,setSelectedResults]=useState([]);// Helper function to safely get department name\nconst getDepartmentName=departmentData=>{if(!departmentData)return'N/A';// If it's an object with a name property, extract the name\nif(typeof departmentData==='object'&&departmentData!==null&&'name'in departmentData){return departmentData.name||'N/A';}// If it's a string, return as is\nif(typeof departmentData==='string'){return departmentData||'N/A';}// Fallback - if it's an object but doesn't have name, return N/A\nif(typeof departmentData==='object'&&departmentData!==null){return'N/A';}// Fallback\nreturn'N/A';};// Helper function to safely get course name\nconst getCourseName=courseData=>{if(!courseData)return'N/A';// If it's an object with a name property, extract the name\nif(typeof courseData==='object'&&courseData!==null&&'name'in courseData){return courseData.name||'N/A';}// If it's an object with course_name property, extract the course_name\nif(typeof courseData==='object'&&courseData!==null&&'course_name'in courseData){return courseData.course_name||'N/A';}// If it's a string, return as is\nif(typeof courseData==='string'){return courseData||'N/A';}// Fallback - if it's an object but doesn't have name or course_name, return N/A\nif(typeof courseData==='object'&&courseData!==null){return'N/A';}// Fallback\nreturn'N/A';};useEffect(()=>{// Fetch departments\nconst fetchDepartments=async()=>{try{const response=await academicsService.getDepartments();setDepartments(response.data);}catch(error){console.error('Failed to fetch departments:',error);}};fetchDepartments();},[]);useEffect(()=>{// Fetch courses when department changes\nconst fetchCourses=async()=>{if(selectedDepartment){try{const response=await academicsService.getCoursesByDepartment(selectedDepartment);setCourses(response.data);}catch(error){console.error('Failed to fetch courses:',error);}}else{setCourses([]);}};fetchCourses();},[selectedDepartment]);useEffect(()=>{// Fetch results when department or course changes\nconst fetchResults=async()=>{if(selectedDepartment&&selectedCourse){setLoading(true);try{const response=await academicsService.getResultsByDepartmentCourse(selectedDepartment,selectedCourse);setResults(response.data);setFilteredResults(response.data);}catch(error){console.error('Failed to fetch results:',error);}finally{setLoading(false);}}else{setResults([]);setFilteredResults([]);}};fetchResults();},[selectedDepartment,selectedCourse]);// Apply filters when search term or filters change\nuseEffect(()=>{let filtered=results;// Search filter\nif(searchTerm){filtered=filtered.filter(result=>result.student_name.toLowerCase().includes(searchTerm.toLowerCase())||result.subject.toLowerCase().includes(searchTerm.toLowerCase()));}// Grade filter\nif(selectedGrade){filtered=filtered.filter(result=>result.grade===selectedGrade);}// Exam type filter\nif(selectedExamType){filtered=filtered.filter(result=>result.exam_type===selectedExamType);}setFilteredResults(filtered);},[results,searchTerm,selectedGrade,selectedExamType]);// Calculate statistics\nconst getStatistics=()=>{const total=filteredResults.length;const gradeCounts=filteredResults.reduce((acc,result)=>{acc[result.grade]=(acc[result.grade]||0)+1;return acc;},{});const avgPercentage=total>0?filteredResults.reduce((sum,result)=>sum+result.percentage,0)/total:0;return{total,gradeCounts,avgPercentage};};const statistics=getStatistics();// Export functions\nconst exportToCSV=()=>{const headers=['Student Name','Subject','Exam Type','Marks','Grade','Percentage','Exam Date','Semester','Department'];const csvContent=[headers.join(','),...filteredResults.map(result=>[result.student_name,result.subject,result.exam_type,result.marks,result.grade,result.percentage.toFixed(1),result.exam_date,result.semester,getDepartmentName(result.department)].join(','))].join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='results.csv';a.click();window.URL.revokeObjectURL(url);};// Bulk operations\nconst handleSelectAll=checked=>{if(checked){setSelectedResults(filteredResults.map(r=>r.id));}else{setSelectedResults([]);}};const handleSelectResult=(id,checked)=>{if(checked){setSelectedResults([...selectedResults,id]);}else{setSelectedResults(selectedResults.filter(r=>r!==id));}};const handleBulkDelete=async()=>{if(!window.confirm(\"Delete \".concat(selectedResults.length,\" selected results?\")))return;try{setLoading(true);await Promise.all(selectedResults.map(id=>academicsService.deleteResult(id)));// Refresh results\nif(selectedDepartment&&selectedCourse){const response=await academicsService.getResultsByDepartmentCourse(selectedDepartment,selectedCourse);setResults(response.data);setFilteredResults(response.data);}setSelectedResults([]);}catch(error){console.error('Failed to delete results:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"Advanced Result Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:exportToCSV,disabled:filteredResults.length===0,className:\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-400 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Export CSV\"})]}),selectedResults.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleBulkDelete,className:\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Delete Selected (\",selectedResults.length,\")\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Results\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:statistics.total})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Avg Percentage\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[statistics.avgPercentage.toFixed(1),\"%\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-yellow-100 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"F Grades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:statistics.gradeCounts['F']||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"A+ Grades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:statistics.gradeCounts['A+']||0})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Filters & Search\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"text-blue-600 hover:text-blue-800 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[showFilters?'Hide':'Show',\" Filters\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDepartment!==null&&selectedDepartment!==void 0?selectedDepartment:'',onChange:e=>setSelectedDepartment(e.target.value?Number(e.target.value):null),className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.id,children:dept.name},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Course\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCourse!==null&&selectedCourse!==void 0?selectedCourse:'',onChange:e=>setSelectedCourse(e.target.value?Number(e.target.value):null),className:\"w-full border p-2 rounded\",disabled:!selectedDepartment,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Course\"}),courses.map(course=>/*#__PURE__*/_jsx(\"option\",{value:course.id,children:course.name},course.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by student or subject...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full border p-2 rounded\"})]}),showFilters&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Grade\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedGrade,onChange:e=>setSelectedGrade(e.target.value),className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Grades\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A+\",children:\"A+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-\",children:\"A-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B+\",children:\"B+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B\",children:\"B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B-\",children:\"B-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C+\",children:\"C+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C\",children:\"C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C-\",children:\"C-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"D+\",children:\"D+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"D\",children:\"D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"F\",children:\"F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Exam Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedExamType,onChange:e=>setSelectedExamType(e.target.value),className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quiz 1\",children:\"Quiz 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quiz 2\",children:\"Quiz 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Assignment 1\",children:\"Assignment 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Assignment 2\",children:\"Assignment 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mid Term\",children:\"Mid Term\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Final Exam\",children:\"Final Exam\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow border overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Results (\",filteredResults.length,\")\"]}),filteredResults.length>0&&/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedResults.length===filteredResults.length&&filteredResults.length>0,onChange:e=>handleSelectAll(e.target.checked),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Select All\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedResults.length===filteredResults.length&&filteredResults.length>0,onChange:e=>handleSelectAll(e.target.checked),className:\"rounded\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Exam Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Marks\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Grade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Percentage\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:9,className:\"px-4 py-8 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-blue-600 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Loading results...\"]})})}):filteredResults.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:9,className:\"px-4 py-8 text-center text-gray-500\",children:selectedDepartment&&selectedCourse?'No results found for the selected filters.':'Please select a department and course to view results.'})}):filteredResults.map(result=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedResults.includes(result.id),onChange:e=>handleSelectResult(result.id,e.target.checked),className:\"rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:result.student_name})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:result.subject})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\",children:result.exam_type})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\",children:result.marks}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(result.grade==='F'?'bg-red-100 text-red-800':result.grade.startsWith('A')?'bg-green-100 text-green-800':result.grade.startsWith('B')?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'),children:result.grade})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\",children:[result.percentage.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(result.exam_date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm('Delete this result?')){try{await academicsService.deleteResult(result.result_id);// Refresh the data\nif(selectedDepartment&&selectedCourse){const response=await academicsService.getResultsByDepartmentCourse(selectedDepartment,selectedCourse);setResults(response.data);}}catch(error){console.error('Failed to delete result:',error);}}},className:\"text-red-600 hover:text-red-900 mr-3\",children:\"Delete\"})})]},result.id))})]})})]})]});};export default ResultManagement;","map":{"version":3,"names":["React","useState","useEffect","academicsService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ResultManagement","results","setResults","filteredResults","setFilteredResults","departments","setDepartments","courses","setCourses","selectedDepartment","setSelectedDepartment","selectedCourse","setSelectedCourse","loading","setLoading","searchTerm","setSearchTerm","selectedGrade","setSelectedGrade","selectedExamType","setSelectedExamType","showFilters","setShowFilters","selectedResults","setSelectedResults","getDepartmentName","departmentData","name","getCourseName","courseData","course_name","fetchDepartments","response","getDepartments","data","error","console","fetchCourses","getCoursesByDepartment","fetchResults","getResultsByDepartmentCourse","filtered","filter","result","student_name","toLowerCase","includes","subject","grade","exam_type","getStatistics","total","length","gradeCounts","reduce","acc","avgPercentage","sum","percentage","statistics","exportToCSV","headers","csvContent","join","map","marks","toFixed","exam_date","semester","department","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleSelectAll","checked","r","id","handleSelectResult","handleBulkDelete","confirm","concat","Promise","all","deleteResult","className","children","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","value","onChange","e","target","Number","dept","course","placeholder","colSpan","cx","cy","startsWith","Date","toLocaleDateString","result_id"],"sources":["C:/UMI/Frontend/src/components/pages/ResultManagement.tsx"],"sourcesContent":["import React, { useState, useEffect, ReactElement } from 'react';\r\nimport { academicsService } from '../../api/academicsService_enhanced';\r\n\r\ninterface Result {\r\n  id: number;\r\n  result_id: number;\r\n  student_name: string;\r\n  subject: string;\r\n  grade: string;\r\n  marks: string;\r\n  percentage: number;\r\n  exam_type: string;\r\n  exam_date: string;\r\n  semester: string;\r\n  department: string;\r\n  course: any;\r\n}\r\n\r\nconst ResultManagement: React.FC = () => {\r\n  const [results, setResults] = useState<Result[]>([]);\r\n  const [filteredResults, setFilteredResults] = useState<Result[]>([]);\r\n  const [departments, setDepartments] = useState<any[]>([]);\r\n  const [courses, setCourses] = useState<any[]>([]);\r\n  const [selectedDepartment, setSelectedDepartment] = useState<number | null>(null);\r\n  const [selectedCourse, setSelectedCourse] = useState<number | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedGrade, setSelectedGrade] = useState('');\r\n  const [selectedExamType, setSelectedExamType] = useState('');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [selectedResults, setSelectedResults] = useState<number[]>([]);\r\n\r\n  // Helper function to safely get department name\r\n  const getDepartmentName = (departmentData: any): string => {\r\n    if (!departmentData) return 'N/A';\r\n\r\n    // If it's an object with a name property, extract the name\r\n    if (typeof departmentData === 'object' && departmentData !== null && 'name' in departmentData) {\r\n      return departmentData.name || 'N/A';\r\n    }\r\n\r\n    // If it's a string, return as is\r\n    if (typeof departmentData === 'string') {\r\n      return departmentData || 'N/A';\r\n    }\r\n\r\n    // Fallback - if it's an object but doesn't have name, return N/A\r\n    if (typeof departmentData === 'object' && departmentData !== null) {\r\n      return 'N/A';\r\n    }\r\n\r\n    // Fallback\r\n    return 'N/A';\r\n  };\r\n\r\n  // Helper function to safely get course name\r\n  const getCourseName = (courseData: any): string => {\r\n    if (!courseData) return 'N/A';\r\n\r\n    // If it's an object with a name property, extract the name\r\n    if (typeof courseData === 'object' && courseData !== null && 'name' in courseData) {\r\n      return courseData.name || 'N/A';\r\n    }\r\n\r\n    // If it's an object with course_name property, extract the course_name\r\n    if (typeof courseData === 'object' && courseData !== null && 'course_name' in courseData) {\r\n      return courseData.course_name || 'N/A';\r\n    }\r\n\r\n    // If it's a string, return as is\r\n    if (typeof courseData === 'string') {\r\n      return courseData || 'N/A';\r\n    }\r\n\r\n    // Fallback - if it's an object but doesn't have name or course_name, return N/A\r\n    if (typeof courseData === 'object' && courseData !== null) {\r\n      return 'N/A';\r\n    }\r\n\r\n    // Fallback\r\n    return 'N/A';\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fetch departments\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const response = await academicsService.getDepartments();\r\n        setDepartments(response.data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch departments:', error);\r\n      }\r\n    };\r\n\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Fetch courses when department changes\r\n    const fetchCourses = async () => {\r\n      if (selectedDepartment) {\r\n        try {\r\n          const response = await academicsService.getCoursesByDepartment(selectedDepartment);\r\n          setCourses(response.data);\r\n        } catch (error) {\r\n          console.error('Failed to fetch courses:', error);\r\n        }\r\n      } else {\r\n        setCourses([]);\r\n      }\r\n    };\r\n\r\n    fetchCourses();\r\n  }, [selectedDepartment]);\r\n\r\n  useEffect(() => {\r\n    // Fetch results when department or course changes\r\n    const fetchResults = async () => {\r\n      if (selectedDepartment && selectedCourse) {\r\n        setLoading(true);\r\n        try {\r\n          const response = await academicsService.getResultsByDepartmentCourse(selectedDepartment, selectedCourse);\r\n          setResults(response.data);\r\n          setFilteredResults(response.data);\r\n        } catch (error) {\r\n          console.error('Failed to fetch results:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      } else {\r\n        setResults([]);\r\n        setFilteredResults([]);\r\n      }\r\n    };\r\n\r\n    fetchResults();\r\n  }, [selectedDepartment, selectedCourse]);\r\n\r\n  // Apply filters when search term or filters change\r\n  useEffect(() => {\r\n    let filtered = results;\r\n\r\n    // Search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(result =>\r\n        result.student_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        result.subject.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Grade filter\r\n    if (selectedGrade) {\r\n      filtered = filtered.filter(result => result.grade === selectedGrade);\r\n    }\r\n\r\n    // Exam type filter\r\n    if (selectedExamType) {\r\n      filtered = filtered.filter(result => result.exam_type === selectedExamType);\r\n    }\r\n\r\n    setFilteredResults(filtered);\r\n  }, [results, searchTerm, selectedGrade, selectedExamType]);\r\n\r\n  // Calculate statistics\r\n  const getStatistics = () => {\r\n    const total = filteredResults.length;\r\n    const gradeCounts = filteredResults.reduce((acc, result) => {\r\n      acc[result.grade] = (acc[result.grade] || 0) + 1;\r\n      return acc;\r\n    }, {} as Record<string, number>);\r\n\r\n    const avgPercentage = total > 0\r\n      ? filteredResults.reduce((sum, result) => sum + result.percentage, 0) / total\r\n      : 0;\r\n\r\n    return { total, gradeCounts, avgPercentage };\r\n  };\r\n\r\n  const statistics = getStatistics();\r\n\r\n  // Export functions\r\n  const exportToCSV = () => {\r\n    const headers = ['Student Name', 'Subject', 'Exam Type', 'Marks', 'Grade', 'Percentage', 'Exam Date', 'Semester', 'Department'];\r\n    const csvContent = [\r\n      headers.join(','),\r\n      ...filteredResults.map(result => [\r\n        result.student_name,\r\n        result.subject,\r\n        result.exam_type,\r\n        result.marks,\r\n        result.grade,\r\n        result.percentage.toFixed(1),\r\n        result.exam_date,\r\n        result.semester,\r\n        getDepartmentName(result.department)\r\n      ].join(','))\r\n    ].join('\\n');\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'results.csv';\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Bulk operations\r\n  const handleSelectAll = (checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedResults(filteredResults.map(r => r.id));\r\n    } else {\r\n      setSelectedResults([]);\r\n    }\r\n  };\r\n\r\n  const handleSelectResult = (id: number, checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedResults([...selectedResults, id]);\r\n    } else {\r\n      setSelectedResults(selectedResults.filter(r => r !== id));\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (!window.confirm(`Delete ${selectedResults.length} selected results?`)) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      await Promise.all(selectedResults.map(id => academicsService.deleteResult(id)));\r\n      // Refresh results\r\n      if (selectedDepartment && selectedCourse) {\r\n        const response = await academicsService.getResultsByDepartmentCourse(selectedDepartment, selectedCourse);\r\n        setResults(response.data);\r\n        setFilteredResults(response.data);\r\n      }\r\n      setSelectedResults([]);\r\n    } catch (error) {\r\n      console.error('Failed to delete results:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold text-gray-800\">Advanced Result Management</h2>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={exportToCSV}\r\n            disabled={filteredResults.length === 0}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-400 flex items-center space-x-2\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <span>Export CSV</span>\r\n          </button>\r\n          {selectedResults.length > 0 && (\r\n            <button\r\n              onClick={handleBulkDelete}\r\n              className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 flex items-center space-x-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n              </svg>\r\n              <span>Delete Selected ({selectedResults.length})</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow border\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Results</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{statistics.total}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow border\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 bg-green-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Avg Percentage</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{statistics.avgPercentage.toFixed(1)}%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow border\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 bg-yellow-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">F Grades</p>\r\n              <p className=\"text-2xl font-bold text-red-600\">{statistics.gradeCounts['F'] || 0}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow border\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 bg-purple-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">A+ Grades</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">{statistics.gradeCounts['A+'] || 0}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters and Search */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow border\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Filters & Search</h3>\r\n          <button\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className=\"text-blue-600 hover:text-blue-800 flex items-center space-x-1\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\r\n            </svg>\r\n            <span>{showFilters ? 'Hide' : 'Show'} Filters</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Department</label>\r\n            <select\r\n              value={selectedDepartment ?? ''}\r\n              onChange={(e) => setSelectedDepartment(e.target.value ? Number(e.target.value) : null)}\r\n              className=\"w-full border p-2 rounded\"\r\n            >\r\n              <option value=\"\">Select Department</option>\r\n              {departments.map((dept) => (\r\n                <option key={dept.id} value={dept.id}>\r\n                  {dept.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Course</label>\r\n            <select\r\n              value={selectedCourse ?? ''}\r\n              onChange={(e) => setSelectedCourse(e.target.value ? Number(e.target.value) : null)}\r\n              className=\"w-full border p-2 rounded\"\r\n              disabled={!selectedDepartment}\r\n            >\r\n              <option value=\"\">Select Course</option>\r\n              {courses.map((course) => (\r\n                <option key={course.id} value={course.id}>\r\n                  {course.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Search</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by student or subject...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full border p-2 rounded\"\r\n            />\r\n          </div>\r\n\r\n          {showFilters && (\r\n            <>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Grade</label>\r\n                <select\r\n                  value={selectedGrade}\r\n                  onChange={(e) => setSelectedGrade(e.target.value)}\r\n                  className=\"w-full border p-2 rounded\"\r\n                >\r\n                  <option value=\"\">All Grades</option>\r\n                  <option value=\"A+\">A+</option>\r\n                  <option value=\"A\">A</option>\r\n                  <option value=\"A-\">A-</option>\r\n                  <option value=\"B+\">B+</option>\r\n                  <option value=\"B\">B</option>\r\n                  <option value=\"B-\">B-</option>\r\n                  <option value=\"C+\">C+</option>\r\n                  <option value=\"C\">C</option>\r\n                  <option value=\"C-\">C-</option>\r\n                  <option value=\"D+\">D+</option>\r\n                  <option value=\"D\">D</option>\r\n                  <option value=\"F\">F</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Exam Type</label>\r\n                <select\r\n                  value={selectedExamType}\r\n                  onChange={(e) => setSelectedExamType(e.target.value)}\r\n                  className=\"w-full border p-2 rounded\"\r\n                >\r\n                  <option value=\"\">All Types</option>\r\n                  <option value=\"Quiz 1\">Quiz 1</option>\r\n                  <option value=\"Quiz 2\">Quiz 2</option>\r\n                  <option value=\"Assignment 1\">Assignment 1</option>\r\n                  <option value=\"Assignment 2\">Assignment 2</option>\r\n                  <option value=\"Mid Term\">Mid Term</option>\r\n                  <option value=\"Final Exam\">Final Exam</option>\r\n                </select>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results Table */}\r\n      <div className=\"bg-white rounded-lg shadow border overflow-hidden\">\r\n        <div className=\"px-4 py-3 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              Results ({filteredResults.length})\r\n            </h3>\r\n            {filteredResults.length > 0 && (\r\n              <label className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedResults.length === filteredResults.length && filteredResults.length > 0}\r\n                  onChange={(e) => handleSelectAll(e.target.checked)}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Select All</span>\r\n              </label>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedResults.length === filteredResults.length && filteredResults.length > 0}\r\n                    onChange={(e) => handleSelectAll(e.target.checked)}\r\n                    className=\"rounded\"\r\n                  />\r\n                </th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Student</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Subject</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Exam Type</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Marks</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Grade</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Percentage</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {loading ? (\r\n                <tr>\r\n                  <td colSpan={9} className=\"px-4 py-8 text-center\">\r\n                    <div className=\"flex items-center justify-center\">\r\n                      <svg className=\"animate-spin h-5 w-5 text-blue-600 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Loading results...\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : filteredResults.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={9} className=\"px-4 py-8 text-center text-gray-500\">\r\n                    {selectedDepartment && selectedCourse ? 'No results found for the selected filters.' : 'Please select a department and course to view results.'}\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredResults.map((result) => (\r\n                  <tr key={result.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedResults.includes(result.id)}\r\n                        onChange={(e) => handleSelectResult(result.id, e.target.checked)}\r\n                        className=\"rounded\"\r\n                      />\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{result.student_name}</div>\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{result.subject}</div>\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                      <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\r\n                        {result.exam_type}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {result.marks}\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        result.grade === 'F' ? 'bg-red-100 text-red-800' :\r\n                        result.grade.startsWith('A') ? 'bg-green-100 text-green-800' :\r\n                        result.grade.startsWith('B') ? 'bg-blue-100 text-blue-800' :\r\n                        'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {result.grade}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {result.percentage.toFixed(1)}%\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(result.exam_date).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <button\r\n                        onClick={async () => {\r\n                          if (window.confirm('Delete this result?')) {\r\n                            try {\r\n                              await academicsService.deleteResult(result.result_id);\r\n                              // Refresh the data\r\n                              if (selectedDepartment && selectedCourse) {\r\n                                const response = await academicsService.getResultsByDepartmentCourse(selectedDepartment, selectedCourse);\r\n                                setResults(response.data);\r\n                              }\r\n                            } catch (error) {\r\n                              console.error('Failed to delete result:', error);\r\n                            }\r\n                          }\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-900 mr-3\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}