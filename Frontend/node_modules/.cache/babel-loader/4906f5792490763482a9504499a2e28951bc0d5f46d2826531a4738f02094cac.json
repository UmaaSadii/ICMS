{"ast":null,"code":"import{useAuth}from'../context/AuthContext';import{useState,useEffect,useMemo,useCallback}from'react';import{motion}from'framer-motion';import{Bar}from'react-chartjs-2';import{departmentService,courseService,studentService as apiStudentService}from'../api/apiService';import{instructorService,studentService}from'../api/studentInstructorService';import{academicsService}from'../api/academicsService_enhanced';import StudentManagement from'../components/pages/StudentManagement';import DepartmentManagement from'../components/pages/DepartmentManagement';import CourseManagement from'../components/pages/CourseManagement';import TeacherManagement from'../components/pages/TeacherManagement';import FeeManagement from'../components/FeeManagement';import MessagingSystem from'../components/messaging/MessagingSystem';import SystemHealthWidget from'../components/dashboard/SystemHealthWidget';import NotificationPanel from'../components/dashboard/NotificationPanel';import QuickActions from'../components/dashboard/QuickActions';import AIInsights from'../components/dashboard/AIInsights';import ActivityFeed from'../components/dashboard/ActivityFeed';import CalendarWidget from'../components/dashboard/CalendarWidget';import{jsPDF}from'jspdf';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,ArcElement,Title,Tooltip,Legend}from'chart.js';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,ArcElement,Title,Tooltip,Legend);const AdminDashboard=()=>{const{currentUser,logout}=useAuth();const[activeTab,setActiveTab]=useState('dashboard');// Results tab state\nconst[departments,setDepartments]=useState([]);const[semesters,setSemesters]=useState([]);const[students,setStudents]=useState([]);const[selectedDepartment,setSelectedDepartment]=useState(null);const[selectedSemester,setSelectedSemester]=useState(null);const[selectedStudent,setSelectedStudent]=useState(null);const[studentResults,setStudentResults]=useState([]);const[studentCourses,setStudentCourses]=useState([]);const[loading,setLoading]=useState(false);const[resultsLoading,setResultsLoading]=useState(false);const[showResultDetailsModal,setShowResultDetailsModal]=useState(false);const[selectedResultForDetails,setSelectedResultForDetails]=useState(null);const[resultDetailsActiveTab,setResultDetailsActiveTab]=useState('course');// Add header animation effect\nuseEffect(()=>{const header=document.querySelector('.admin-header');if(header){header.classList.add('animate-fadeIn');}},[]);// Admin data state\nconst[adminData,setAdminData]=useState({users:[],departments:[],stats:{totalUsers:1200,activeUsers:850,totalDepartments:25,totalCourses:40,totalStudents:1000,totalStaff:200}});// Department counts for pie chart\nconst[departmentCounts,setDepartmentCounts]=useState({});// Fetch real data for dashboard stats\nuseEffect(()=>{const fetchDashboardData=async()=>{try{const[studentsRes,departmentsRes,coursesRes,instructorsRes]=await Promise.all([apiStudentService.getAllStudents(),departmentService.getAllDepartments(),courseService.getAllCourses(),instructorService.getAllInstructors()]);const totalUsers=studentsRes.data.length+instructorsRes.data.length;const activeUsers=Math.floor(totalUsers*0.7);// Assuming 70% are active\n// Calculate counts per department with better error handling\nconst counts={};studentsRes.data.forEach(student=>{let departmentId=null;// Handle different possible department structures\nif(student.department){if(typeof student.department==='object'&&student.department!==null){// If department is an object, try different ID fields\nif(student.department.id){departmentId=student.department.id;}else if(student.department.department_id){departmentId=student.department.department_id;}else if(student.department.departmentId){departmentId=student.department.departmentId;}}else if(typeof student.department==='number'){// If department is just an ID number\ndepartmentId=student.department;}}// Also check if department is stored as a direct property\nif(!departmentId&&student.department_id){departmentId=student.department_id;}if(departmentId){counts[departmentId]=(counts[departmentId]||0)+1;}});setDepartmentCounts(counts);setAdminData({users:[...studentsRes.data,...instructorsRes.data],departments:departmentsRes.data,stats:{totalUsers,activeUsers,totalDepartments:departmentsRes.data.length,totalCourses:coursesRes.data.length,totalStudents:studentsRes.data.length,totalStaff:instructorsRes.data.length}});}catch(error){console.error('Failed to fetch admin dashboard data:',error);// Keep default values if fetch fails\n}};fetchDashboardData();},[]);// Fetch departments for results tab\nuseEffect(()=>{const fetchDepartments=async()=>{try{setResultsLoading(true);const response=await academicsService.getDepartments();setDepartments(response.data);}catch(error){console.error('Failed to fetch departments:',error);setDepartments([]);}finally{setResultsLoading(false);}};if(activeTab==='results'){fetchDepartments();}},[activeTab]);// Fetch semesters when department is selected\nuseEffect(()=>{const fetchSemesters=async()=>{if(!selectedDepartment){setSemesters([]);setSelectedSemester(null);return;}try{const response=await academicsService.getSemestersByDepartment(selectedDepartment);// Filter to only semesters that have students\ntry{const studentsResponse=await apiStudentService.getAllStudents({department:selectedDepartment});const students=studentsResponse.data;const semesterIds=Array.from(new Set(students.map(student=>{var _student$semester;return((_student$semester=student.semester)===null||_student$semester===void 0?void 0:_student$semester.id)||student.semester;}).filter(id=>id!=null)));const semestersWithStudents=response.data.filter(sem=>semesterIds.includes(sem.id));setSemesters(semestersWithStudents);}catch(error){console.error('Failed to filter semesters:',error);// Keep all semesters if filtering fails\nsetSemesters(response.data);}setSelectedSemester(null);// Reset semester selection\nsetSelectedStudent(null);// Reset student selection\nsetStudentResults([]);}catch(error){console.error('Failed to fetch semesters:',error);setSemesters([]);}};if(selectedDepartment){fetchSemesters();}},[selectedDepartment]);// Fetch students when semester is selected\nuseEffect(()=>{const fetchStudents=async()=>{if(!selectedDepartment||!selectedSemester){setStudents([]);setSelectedStudent(null);setStudentResults([]);return;}try{setLoading(true);// Use server-side filtering instead of client-side filtering\nconst response=await apiStudentService.getAllStudents({department:selectedDepartment,semester:selectedSemester});setStudents(response.data);setSelectedStudent(null);// Reset student selection\nsetStudentResults([]);}catch(error){console.error('Failed to fetch students:',error);}finally{setLoading(false);}};if(selectedDepartment&&selectedSemester){fetchStudents();}},[selectedDepartment,selectedSemester]);// Fetch student results and courses when student is selected\nuseEffect(()=>{const fetchStudentData=async()=>{if(!selectedStudent)return;try{setResultsLoading(true);// Fetch results and assigned courses for the student\nconst[resultsResponse,coursesResponse]=await Promise.all([academicsService.getStudentResults(selectedStudent),studentService.getStudentCourses(selectedStudent)]);// Extract results array from the API response (handles both basic and enhanced endpoints)\nconst resultsData=resultsResponse.data;const results=Array.isArray(resultsData)?resultsData:resultsData.results||[];setStudentResults(results);setStudentCourses(coursesResponse.data);}catch(error){console.error('Failed to fetch student results:',error);setStudentResults([]);setStudentCourses([]);}finally{setResultsLoading(false);}};if(selectedStudent){fetchStudentData();}},[selectedStudent,selectedSemester]);// Helper function to safely get course name\nconst getCourseName=courseData=>{if(!courseData||courseData===null||courseData===undefined)return'N/A';try{// If it's an object with a name property, extract the name\nif(typeof courseData==='object'&&courseData!==null&&'name'in courseData){return courseData.name||'N/A';}// If it's an object with course_name property, extract the course_name\nif(typeof courseData==='object'&&courseData!==null&&'course_name'in courseData){return courseData.course_name||'N/A';}// If it's an object with title property\nif(typeof courseData==='object'&&courseData!==null&&'title'in courseData){return courseData.title||'N/A';}// If it's an object with code property\nif(typeof courseData==='object'&&courseData!==null&&'code'in courseData){return courseData.code||'N/A';}// If it's an object with subject property\nif(typeof courseData==='object'&&courseData!==null&&'subject'in courseData){return courseData.subject||'N/A';}// Fallback for object with id\nif(typeof courseData==='object'&&courseData!==null&&courseData.id){return\"Course \".concat(courseData.id);}// If it's a string, return as is\nif(typeof courseData==='string'){return courseData||'N/A';}// Fallback\nreturn'N/A';}catch(error){console.error('Error extracting course name:',error,courseData);return'N/A';}};// Helper function to safely get department name\nconst getDepartmentName=departmentData=>{if(!departmentData||departmentData===null||departmentData===undefined)return'N/A';try{// If it's an object with a name property, extract the name\nif(typeof departmentData==='object'&&departmentData!==null&&'name'in departmentData){return departmentData.name||'N/A';}// If it's an object with department_name property\nif(typeof departmentData==='object'&&departmentData!==null&&'department_name'in departmentData){return departmentData.department_name||'N/A';}// If it's an object with title property\nif(typeof departmentData==='object'&&departmentData!==null&&'title'in departmentData){return departmentData.title||'N/A';}// If it's an object with code property\nif(typeof departmentData==='object'&&departmentData!==null&&'code'in departmentData){return departmentData.code||'N/A';}// If it's a string, return as is\nif(typeof departmentData==='string'){return departmentData||'N/A';}// If it's an object with other properties, try to find a suitable name\nif(typeof departmentData==='object'&&departmentData!==null){if(departmentData.id)return\"Department \".concat(departmentData.id);}return'N/A';}catch(error){console.error('Error extracting department name:',error,departmentData);return'N/A';}};// Helper function to safely get semester name\nconst getSemesterName=semesterData=>{if(!semesterData||semesterData===null||semesterData===undefined)return'N/A';try{// If it's an object with a name property, extract the name\nif(typeof semesterData==='object'&&semesterData!==null&&'name'in semesterData){return semesterData.name||'N/A';}// If it's an object with semester_name property\nif(typeof semesterData==='object'&&semesterData!==null&&'semester_name'in semesterData){return semesterData.semester_name||'N/A';}// If it's an object with title property\nif(typeof semesterData==='object'&&semesterData!==null&&'title'in semesterData){return semesterData.title||'N/A';}// If it's an object with code property\nif(typeof semesterData==='object'&&semesterData!==null&&'code'in semesterData){return semesterData.code||'N/A';}// If it's an object with semester_code property\nif(typeof semesterData==='object'&&semesterData!==null&&'semester_code'in semesterData){return semesterData.semester_code||'N/A';}// If it's a string, return as is\nif(typeof semesterData==='string'){return semesterData||'N/A';}// If it's an object with other properties, try to find a suitable name\nif(typeof semesterData==='object'&&semesterData!==null){if(semesterData.id)return\"Semester \".concat(semesterData.id);}return'N/A';}catch(error){console.error('Error extracting semester name:',error,semesterData);return'N/A';}};// Helper function to safely get student name\nconst getStudentName=studentData=>{if(!studentData||studentData===null||studentData===undefined)return'N/A';try{// If it's an object with user property containing first_name and last_name\nif(typeof studentData==='object'&&studentData!==null&&studentData.user){const user=studentData.user;if(!user||user===null||user===undefined)return'N/A';const firstName=user.first_name||'';const lastName=user.last_name||'';return\"\".concat(firstName,\" \").concat(lastName).trim()||'N/A';}// If it's an object with name property\nif(typeof studentData==='object'&&studentData!==null&&'name'in studentData){return studentData.name||'N/A';}// If it's an object with student_name property\nif(typeof studentData==='object'&&studentData!==null&&'student_name'in studentData){return studentData.student_name||'N/A';}// If it's an object with first_name and last_name properties\nif(typeof studentData==='object'&&studentData!==null&&'first_name'in studentData&&'last_name'in studentData){return\"\".concat(studentData.first_name||'',\" \").concat(studentData.last_name||'').trim()||'N/A';}// If it's an object with full_name property\nif(typeof studentData==='object'&&studentData!==null&&'full_name'in studentData){return studentData.full_name||'N/A';}// If it's a string, return as is\nif(typeof studentData==='string'){return studentData||'N/A';}// If it's an object with other properties, try to find a suitable name\nif(typeof studentData==='object'&&studentData!==null){if(studentData.student_id)return\"Student \".concat(studentData.student_id);if(studentData.id)return\"Student \".concat(studentData.id);}return'N/A';}catch(error){console.error('Error extracting student name:',error,studentData);return'N/A';}};// Generate PDF Report Card\nconst handleViewResultDetails=result=>{setSelectedResultForDetails(result);setShowResultDetailsModal(true);};const generateReportCard=useCallback(()=>{var _selectedStudentData$,_selectedStudentData$2,_departments$find;if(!selectedStudent||studentResults.length===0)return;const doc=new jsPDF();const selectedStudentData=students.find(s=>s.id===selectedStudent);// Header\ndoc.setFontSize(20);doc.text('FGPG University',105,20,{align:'center'});doc.setFontSize(16);doc.text('Student Report Card',105,30,{align:'center'});// Student Information\ndoc.setFontSize(12);doc.text(\"Student Name: \".concat(selectedStudentData===null||selectedStudentData===void 0?void 0:(_selectedStudentData$=selectedStudentData.user)===null||_selectedStudentData$===void 0?void 0:_selectedStudentData$.first_name,\" \").concat(selectedStudentData===null||selectedStudentData===void 0?void 0:(_selectedStudentData$2=selectedStudentData.user)===null||_selectedStudentData$2===void 0?void 0:_selectedStudentData$2.last_name),20,50);doc.text(\"Student ID: \".concat(selectedStudentData===null||selectedStudentData===void 0?void 0:selectedStudentData.student_id),20,60);doc.text(\"Department: \".concat((_departments$find=departments.find(d=>d.id===selectedDepartment))===null||_departments$find===void 0?void 0:_departments$find.name),20,70);doc.text(\"Semester: \".concat(getSemesterName(selectedStudentData===null||selectedStudentData===void 0?void 0:selectedStudentData.semester)),20,80);// Results Table\nlet yPosition=100;doc.setFontSize(14);doc.text('Academic Results',20,yPosition);yPosition+=10;// Table headers\ndoc.setFontSize(10);doc.text('Course',20,yPosition);doc.text('Grade',120,yPosition);doc.text('GPA',160,yPosition);yPosition+=5;// Draw line\ndoc.line(20,yPosition,190,yPosition);yPosition+=10;// Results data\nif(studentResults&&Array.isArray(studentResults)){studentResults.forEach(result=>{var _result$gpa;doc.text(result.subject||'N/A',20,yPosition);doc.text(result.grade||'N/A',120,yPosition);doc.text(((_result$gpa=result.gpa)===null||_result$gpa===void 0?void 0:_result$gpa.toString())||'N/A',160,yPosition);yPosition+=10;});}// Footer\nyPosition+=20;doc.setFontSize(8);doc.text('Generated on: '+new Date().toLocaleDateString(),20,yPosition);doc.text('FGPG University Management System',20,yPosition+10);// Save the PDF\ndoc.save(\"report_card_\".concat(selectedStudentData===null||selectedStudentData===void 0?void 0:selectedStudentData.student_id,\".pdf\"));},[selectedStudent,studentResults,students,departments,selectedDepartment]);// Navigation tabs\nconst tabs=useMemo(()=>{return[{id:'dashboard',label:'Dashboard',icon:'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6'},{id:'students',label:'Students',icon:'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z'},{id:'instructors',label:'Instructors',icon:'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'},{id:'departments',label:'Departments',icon:'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4'},{id:'results',label:'Results',icon:'M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01'},{id:'fees',label:'Fees',icon:'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z'},{id:'events',label:'Events',icon:'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'},{id:'messaging',label:'Messaging',icon:'M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z'},{id:'scholarships',label:'Scholarships',icon:'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z'}];},[]);// Render navigation tabs\nconst renderTabs=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-gradient-to-b from-blue-800 to-indigo-900 text-white p-4 space-y-2 min-h-screen shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-16 w-16 rounded-full bg-white mx-auto mb-2 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-10 w-10 text-indigo-700\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"FGPG Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-indigo-200\",children:\"University Management\"})]}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:tabs.map(tab=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"w-full flex items-center px-4 py-2 rounded-lg transition-colors \".concat(activeTab===tab.id?'bg-indigo-700 text-white':'text-indigo-100 hover:bg-indigo-700'),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:tab.icon})}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]})},tab.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200\",children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 right-4 text-center text-xs text-indigo-300\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"University Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Version 1.0.0\"})]})]})]});};// Render Results Tab\nconst renderResultsTab=()=>{var _selectedResultForDet,_selectedResultForDet2,_selectedResultForDet3,_selectedResultForDet5,_selectedResultForDet6;const selectedStudentData=students.find(s=>s.id===selectedStudent);return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:0.3},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(motion.h2,{className:\"text-2xl font-bold text-gray-900 dark:text-white dark:bg-gradient-to-r dark:from-indigo-600 dark:to-purple-600 dark:bg-clip-text dark:text-transparent mb-6\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:0.6,ease:\"easeOut\",delay:0.2},children:\"Student Results Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Select Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDepartment||'',onChange:e=>setSelectedDepartment(Number(e.target.value)||null),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose a department...\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.id,children:getDepartmentName(dept)},dept.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Select Semester\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedSemester||'',onChange:e=>setSelectedSemester(Number(e.target.value)||null),disabled:!selectedDepartment||!semesters.length,className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100 dark:disabled:bg-gray-600 disabled:cursor-not-allowed bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:selectedDepartment?semesters.length?'Choose a semester...':'No semesters available':'Select department first'}),semesters.map(sem=>/*#__PURE__*/_jsx(\"option\",{value:sem.id,children:getSemesterName(sem)},sem.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Select Student\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedStudent||'',onChange:e=>setSelectedStudent(Number(e.target.value)||null),disabled:!selectedDepartment||!selectedSemester||loading,className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100 dark:disabled:bg-gray-600 disabled:cursor-not-allowed bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:loading?'Loading students...':selectedDepartment&&selectedSemester?'Choose a student...':'Select department and semester first'}),students.map(student=>/*#__PURE__*/_jsx(\"option\",{value:student.id,children:getStudentName(student)},student.id))]})]})]}),selectedStudentData&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-3\",children:\"Student Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:getStudentName(selectedStudentData)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Student ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:selectedStudentData.student_id||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Department\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:getDepartmentName(departments.find(d=>d.id===selectedDepartment))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Semester\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:getSemesterName(selectedStudentData===null||selectedStudentData===void 0?void 0:selectedStudentData.semester)})]})]})]})]}),selectedStudent&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Academic Results\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:generateReportCard,disabled:studentResults.length===0,className:\"bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Generate Report Card\"})]})]}),resultsLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mt-2\",children:\"Loading results...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[studentCourses.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-900 dark:text-white mb-3\",children:\"Course Overview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:studentCourses.map((course,index)=>{const result=studentResults&&Array.isArray(studentResults)?studentResults.find(r=>r.subject===getCourseName(course)):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 dark:text-white\",children:getCourseName(course)}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-semibold rounded-full \".concat(result?result.grade==='A'||result.grade==='A-'||result.grade==='B+'||result.grade==='B'?'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200':result.grade==='C'||result.grade==='C-'||result.grade==='D'?'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200':'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200':'bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200'),children:result?'Completed':'Pending'})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Grade: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:result.grade||'N/A'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"GPA: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:result.gpa||'N/A'})]})]}),!result&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"Result pending\"})]},index);})})]}),studentResults.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Grade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"GPA\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600\",children:studentResults.map((result,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:result.subject}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\",children:result.grade||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\",children:result.gpa||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(result.grade==='A'||result.grade==='A-'||result.grade==='B+'||result.grade==='B'?'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200':result.grade==='C'||result.grade==='C-'||result.grade==='D'?'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200':'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'),children:result.grade?'Completed':'Pending'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewResultDetails(result),className:\"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300\",children:\"View Details\"})})]},index))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"No results found for this student.\"})]})]})]}),showResultDetailsModal&&selectedResultForDetails&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Result Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResultDetailsModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setResultDetailsActiveTab('course'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(resultDetailsActiveTab==='course'?'border-indigo-500 text-indigo-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Course Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setResultDetailsActiveTab('all'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(resultDetailsActiveTab==='all'?'border-indigo-500 text-indigo-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"All Courses\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:resultDetailsActiveTab==='course'?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Course Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Course\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedResultForDetails.subject||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Exam Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedResultForDetails.exam_type||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Exam Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedResultForDetails.exam_date?new Date(selectedResultForDetails.exam_date).toLocaleDateString():'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Grade\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-3 py-1 text-sm font-semibold rounded-full \".concat(selectedResultForDetails.grade==='F'?'bg-red-100 text-red-800':(_selectedResultForDet=selectedResultForDetails.grade)!==null&&_selectedResultForDet!==void 0&&_selectedResultForDet.startsWith('A')?'bg-green-100 text-green-800':(_selectedResultForDet2=selectedResultForDetails.grade)!==null&&_selectedResultForDet2!==void 0&&_selectedResultForDet2.startsWith('B')?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'),children:selectedResultForDetails.grade||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Marks Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Obtained Marks\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:selectedResultForDetails.obtained_marks||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total Marks\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:selectedResultForDetails.total_marks||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Percentage\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[((_selectedResultForDet3=selectedResultForDetails.percentage)===null||_selectedResultForDet3===void 0?void 0:_selectedResultForDet3.toFixed(1))||0,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"GPA Points\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:selectedResultForDetails.gpa||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Complete Assessment Breakdown\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Detailed marks for all assessments in this course\"}),(_selectedResultForDet4=>{const courseResults=studentResults.filter(r=>r.subject===selectedResultForDetails.subject);const quiz1=courseResults.find(r=>r.exam_type.toLowerCase().includes('quiz 1'));const quiz2=courseResults.find(r=>r.exam_type.toLowerCase().includes('quiz 2'));const assignment1=courseResults.find(r=>r.exam_type.toLowerCase().includes('assignment 1'));const assignment2=courseResults.find(r=>r.exam_type.toLowerCase().includes('assignment 2'));const midTerm=courseResults.find(r=>r.exam_type.toLowerCase().includes('mid'));const finalExam=courseResults.find(r=>r.exam_type.toLowerCase().includes('final'));return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Quiz 1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(quiz1?'text-green-600':'text-gray-400'),children:quiz1?\"\".concat(quiz1.obtained_marks,\"/5\"):'Not submitted'})]}),quiz1&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(quiz1.exam_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Quiz 2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(quiz2?'text-green-600':'text-gray-400'),children:quiz2?\"\".concat(quiz2.obtained_marks,\"/5\"):'Not submitted'})]}),quiz2&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(quiz2.exam_date).toLocaleDateString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Assignment 1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(assignment1?'text-green-600':'text-gray-400'),children:assignment1?\"\".concat(assignment1.obtained_marks,\"/5\"):'Not submitted'})]}),assignment1&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(assignment1.exam_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Assignment 2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(assignment2?'text-green-600':'text-gray-400'),children:assignment2?\"\".concat(assignment2.obtained_marks,\"/5\"):'Not submitted'})]}),assignment2&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(assignment2.exam_date).toLocaleDateString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Mid-term Exam\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(midTerm?'text-green-600':'text-gray-400'),children:midTerm?\"\".concat(midTerm.obtained_marks,\"/25\"):'Not submitted'})]}),midTerm&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(midTerm.exam_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Final Exam\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold \".concat(finalExam?'text-green-600':'text-gray-400'),children:finalExam?\"\".concat(finalExam.obtained_marks,\"/60\"):'Not submitted'})]}),finalExam&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(finalExam.exam_date).toLocaleDateString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg border border-blue-200 mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-semibold text-blue-900 mb-2\",children:\"Grade Calculation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-800 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Quizzes (10 marks total):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((quiz1===null||quiz1===void 0?void 0:quiz1.obtained_marks)||0)+((quiz2===null||quiz2===void 0?void 0:quiz2.obtained_marks)||0),\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Assignments (10 marks total):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((assignment1===null||assignment1===void 0?void 0:assignment1.obtained_marks)||0)+((assignment2===null||assignment2===void 0?void 0:assignment2.obtained_marks)||0),\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Mid-term (25 marks):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(midTerm===null||midTerm===void 0?void 0:midTerm.obtained_marks)||0,\"/25\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Final Exam (60 marks):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(finalExam===null||finalExam===void 0?void 0:finalExam.obtained_marks)||0,\"/60\"]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Score:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((quiz1===null||quiz1===void 0?void 0:quiz1.obtained_marks)||0)+((quiz2===null||quiz2===void 0?void 0:quiz2.obtained_marks)||0)+((assignment1===null||assignment1===void 0?void 0:assignment1.obtained_marks)||0)+((assignment2===null||assignment2===void 0?void 0:assignment2.obtained_marks)||0)+((midTerm===null||midTerm===void 0?void 0:midTerm.obtained_marks)||0)+((finalExam===null||finalExam===void 0?void 0:finalExam.obtained_marks)||0),\"/105\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-semibold text-lg\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Final Grade:\"}),/*#__PURE__*/_jsx(\"span\",{className:selectedResultForDetails.grade==='F'?'text-red-600':(_selectedResultForDet4=selectedResultForDetails.grade)!==null&&_selectedResultForDet4!==void 0&&_selectedResultForDet4.startsWith('A')?'text-green-600':'text-blue-600',children:selectedResultForDetails.grade})]})]})]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Remarks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",children:selectedResultForDetails.remarks||(selectedResultForDetails.grade==='F'?'Failed - Needs improvement':(_selectedResultForDet5=selectedResultForDetails.grade)!==null&&_selectedResultForDet5!==void 0&&_selectedResultForDet5.startsWith('A')?'Excellent performance':(_selectedResultForDet6=selectedResultForDetails.grade)!==null&&_selectedResultForDet6!==void 0&&_selectedResultForDet6.startsWith('B')?'Good performance':'Satisfactory performance')})]})]}):resultDetailsActiveTab==='all'?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"All Courses Assessment Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Overview of all courses and their assessment completion status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:studentCourses.map((course,index)=>{var _finalResult$grade,_finalResult$grade2;const courseResults=studentResults.filter(r=>r.subject===getCourseName(course));const finalResult=courseResults.find(r=>r.exam_type.toLowerCase().includes('final'));// Count completed assessments\nconst quiz1=courseResults.find(r=>r.exam_type.toLowerCase().includes('quiz 1'));const quiz2=courseResults.find(r=>r.exam_type.toLowerCase().includes('quiz 2'));const assignment1=courseResults.find(r=>r.exam_type.toLowerCase().includes('assignment 1'));const assignment2=courseResults.find(r=>r.exam_type.toLowerCase().includes('assignment 2'));const midTerm=courseResults.find(r=>r.exam_type.toLowerCase().includes('mid'));const finalExam=courseResults.find(r=>r.exam_type.toLowerCase().includes('final'));const completedAssessments=[quiz1,quiz2,assignment1,assignment2,midTerm,finalExam].filter(Boolean).length;const totalAssessments=6;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold text-gray-900\",children:getCourseName(course)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[completedAssessments,\"/\",totalAssessments,\" assessments completed\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:finalResult?/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-3 py-1 text-sm font-semibold rounded-full \".concat(finalResult.grade==='F'?'bg-red-100 text-red-800':(_finalResult$grade=finalResult.grade)!==null&&_finalResult$grade!==void 0&&_finalResult$grade.startsWith('A')?'bg-green-100 text-green-800':(_finalResult$grade2=finalResult.grade)!==null&&_finalResult$grade2!==void 0&&_finalResult$grade2.startsWith('B')?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'),children:finalResult.grade}):/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-gray-100 text-gray-800\",children:\"Pending\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(quiz1?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Quiz 1: \",quiz1?'✓':'Pending']}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(quiz2?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Quiz 2: \",quiz2?'✓':'Pending']}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(assignment1?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Assignment 1: \",assignment1?'✓':'Pending']}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(assignment2?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Assignment 2: \",assignment2?'✓':'Pending']}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(midTerm?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Mid-term: \",midTerm?'✓':'Pending']}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 rounded \".concat(finalExam?'bg-green-50 text-green-700':'bg-gray-50 text-gray-500'),children:[\"Final Exam: \",finalExam?'✓':'Pending']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(completedAssessments/totalAssessments*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(completedAssessments/totalAssessments*100,\"%\")}})})]})]},index);})})]})}):null}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResultDetailsModal(false),className:\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\",children:\"Close\"})})]})})})]},\"results\");};// Chart data for performance overview\nconst performanceChartData=useMemo(()=>{return{labels:['Attendance','Assignments','Mid-term','Final','Projects'],datasets:[{label:'Average Score',data:[85,90,75,88,82],backgroundColor:'rgba(79, 70, 229, 0.2)',borderColor:'rgba(79, 70, 229, 1)',borderWidth:1}]};},[]);// Main render\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-50\",children:[renderTabs(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(motion.h1,{className:\"text-3xl font-bold text-gray-900 dark:text-white dark:bg-gradient-to-r dark:from-indigo-600 dark:to-purple-600 dark:bg-clip-text dark:text-transparent\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.8,ease:\"easeOut\"},children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mt-2\",children:\"Welcome to the University Management System\"})]}),activeTab==='dashboard'&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Total Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:adminData.stats.totalStudents})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-blue-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 016 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Total Instructors\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:adminData.stats.totalStaff})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-green-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Departments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:adminData.stats.totalDepartments})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-purple-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:adminData.stats.totalCourses})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-yellow-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})})]})})]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.1},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsx(NotificationPanel,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Performance Overview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Bar,{data:performanceChartData,options:{responsive:true,maintainAspectRatio:false}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"System Health\"}),/*#__PURE__*/_jsx(SystemHealthWidget,{})]})]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsx(QuickActions,{})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.3},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsx(AIInsights,{})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.4},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsx(ActivityFeed,{})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.5},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:/*#__PURE__*/_jsx(CalendarWidget,{})})]}),activeTab==='students'&&/*#__PURE__*/_jsx(StudentManagement,{activeTab:activeTab}),activeTab==='instructors'&&/*#__PURE__*/_jsx(TeacherManagement,{activeTab:activeTab}),activeTab==='departments'&&/*#__PURE__*/_jsx(DepartmentManagement,{activeTab:activeTab}),activeTab==='courses'&&/*#__PURE__*/_jsx(CourseManagement,{activeTab:activeTab}),activeTab==='results'&&renderResultsTab(),activeTab==='fees'&&/*#__PURE__*/_jsx(FeeManagement,{}),activeTab==='events'&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Events Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Events management functionality will be implemented here.\"})]}),activeTab==='messaging'&&/*#__PURE__*/_jsx(MessagingSystem,{}),activeTab==='scholarships'&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Scholarships\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Scholarship management functionality will be implemented here.\"})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["useAuth","useState","useEffect","useMemo","useCallback","motion","Bar","departmentService","courseService","studentService","apiStudentService","instructorService","academicsService","StudentManagement","DepartmentManagement","CourseManagement","TeacherManagement","FeeManagement","MessagingSystem","SystemHealthWidget","NotificationPanel","QuickActions","AIInsights","ActivityFeed","CalendarWidget","jsPDF","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","ArcElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","AdminDashboard","currentUser","logout","activeTab","setActiveTab","departments","setDepartments","semesters","setSemesters","students","setStudents","selectedDepartment","setSelectedDepartment","selectedSemester","setSelectedSemester","selectedStudent","setSelectedStudent","studentResults","setStudentResults","studentCourses","setStudentCourses","loading","setLoading","resultsLoading","setResultsLoading","showResultDetailsModal","setShowResultDetailsModal","selectedResultForDetails","setSelectedResultForDetails","resultDetailsActiveTab","setResultDetailsActiveTab","header","document","querySelector","classList","add","adminData","setAdminData","users","stats","totalUsers","activeUsers","totalDepartments","totalCourses","totalStudents","totalStaff","departmentCounts","setDepartmentCounts","fetchDashboardData","studentsRes","departmentsRes","coursesRes","instructorsRes","Promise","all","getAllStudents","getAllDepartments","getAllCourses","getAllInstructors","data","length","Math","floor","counts","forEach","student","departmentId","department","id","department_id","error","console","fetchDepartments","response","getDepartments","fetchSemesters","getSemestersByDepartment","studentsResponse","semesterIds","Array","from","Set","map","_student$semester","semester","filter","semestersWithStudents","sem","includes","fetchStudents","fetchStudentData","resultsResponse","coursesResponse","getStudentResults","getStudentCourses","resultsData","results","isArray","getCourseName","courseData","undefined","name","course_name","title","code","subject","concat","getDepartmentName","departmentData","department_name","getSemesterName","semesterData","semester_name","semester_code","getStudentName","studentData","user","firstName","first_name","lastName","last_name","trim","student_name","full_name","student_id","handleViewResultDetails","result","generateReportCard","_selectedStudentData$","_selectedStudentData$2","_departments$find","doc","selectedStudentData","find","s","setFontSize","text","align","d","yPosition","line","_result$gpa","grade","gpa","toString","Date","toLocaleDateString","save","tabs","label","icon","renderTabs","className","children","xmlns","viewBox","fill","tab","onClick","stroke","strokeLinecap","strokeLinejoin","strokeWidth","renderResultsTab","_selectedResultForDet","_selectedResultForDet2","_selectedResultForDet3","_selectedResultForDet5","_selectedResultForDet6","div","initial","opacity","x","animate","exit","transition","duration","h2","y","ease","delay","value","onChange","e","Number","target","dept","disabled","course","index","r","exam_type","exam_date","startsWith","obtained_marks","total_marks","percentage","toFixed","_selectedResultForDet4","courseResults","quiz1","toLowerCase","quiz2","assignment1","assignment2","midTerm","finalExam","remarks","_finalResult$grade","_finalResult$grade2","finalResult","completedAssessments","Boolean","totalAssessments","round","style","width","performanceChartData","labels","datasets","backgroundColor","borderColor","borderWidth","h1","options","responsive","maintainAspectRatio"],"sources":["C:/UMI/Frontend/src/pages/AdminDashboard.tsx"],"sourcesContent":["import { useAuth } from '../context/AuthContext';\r\nimport { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Bar, Line, Pie } from 'react-chartjs-2';\r\nimport { messagingService, departmentService, courseService, studentService as apiStudentService } from '../api/apiService';\r\nimport { instructorService, studentService } from '../api/studentInstructorService';\r\nimport { academicsService } from '../api/academicsService_enhanced';\r\nimport StudentManagement from '../components/pages/StudentManagement';\r\nimport DepartmentManagement from '../components/pages/DepartmentManagement';\r\nimport CourseManagement from '../components/pages/CourseManagement';\r\nimport TeacherManagement from '../components/pages/TeacherManagement';\r\nimport FeeManagement from '../components/FeeManagement';\r\nimport MessagingSystem from '../components/messaging/MessagingSystem';\r\nimport SystemHealthWidget from '../components/dashboard/SystemHealthWidget';\r\nimport NotificationPanel from '../components/dashboard/NotificationPanel';\r\nimport QuickActions from '../components/dashboard/QuickActions';\r\nimport AIInsights from '../components/dashboard/AIInsights';\r\nimport ActivityFeed from '../components/dashboard/ActivityFeed';\r\nimport CalendarWidget from '../components/dashboard/CalendarWidget';\r\nimport WeatherWidget from '../components/dashboard/WeatherWidget';\r\nimport { jsPDF } from 'jspdf';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\ntype TabId = 'dashboard' | 'students' | 'instructors' | 'departments' | 'courses' | 'results' | 'fees' | 'events' | 'messaging' | 'scholarships';\r\n\r\nconst AdminDashboard = () => {\r\n  const { currentUser, logout } = useAuth();\r\n  const [activeTab, setActiveTab] = useState<TabId>('dashboard');\r\n\r\n  // Results tab state\r\n  const [departments, setDepartments] = useState<any[]>([]);\r\n  const [semesters, setSemesters] = useState<any[]>([]);\r\n  const [students, setStudents] = useState<any[]>([]);\r\n  const [selectedDepartment, setSelectedDepartment] = useState<number | null>(null);\r\n  const [selectedSemester, setSelectedSemester] = useState<number | null>(null);\r\n  const [selectedStudent, setSelectedStudent] = useState<number | null>(null);\r\n  const [studentResults, setStudentResults] = useState<any[]>([]);\r\n  const [studentCourses, setStudentCourses] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [resultsLoading, setResultsLoading] = useState(false);\r\n  const [showResultDetailsModal, setShowResultDetailsModal] = useState(false);\r\n  const [selectedResultForDetails, setSelectedResultForDetails] = useState<any>(null);\r\n  const [resultDetailsActiveTab, setResultDetailsActiveTab] = useState<'course' | 'all'>('course');\r\n\r\n  // Add header animation effect\r\n  useEffect(() => {\r\n    const header = document.querySelector('.admin-header');\r\n    if (header) {\r\n      header.classList.add('animate-fadeIn');\r\n    }\r\n  }, []);\r\n\r\n  // Admin data state\r\n  const [adminData, setAdminData] = useState({\r\n    users: [] as any[],\r\n    departments: [] as any[],\r\n    stats: {\r\n      totalUsers: 1200,\r\n      activeUsers: 850,\r\n      totalDepartments: 25,\r\n      totalCourses: 40,\r\n      totalStudents: 1000,\r\n      totalStaff: 200,\r\n    },\r\n  });\r\n\r\n  // Department counts for pie chart\r\n  const [departmentCounts, setDepartmentCounts] = useState<Record<number, number>>({});\r\n\r\n  // Fetch real data for dashboard stats\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const [studentsRes, departmentsRes, coursesRes, instructorsRes] = await Promise.all([\r\n          apiStudentService.getAllStudents(),\r\n          departmentService.getAllDepartments(),\r\n          courseService.getAllCourses(),\r\n          instructorService.getAllInstructors(),\r\n        ]);\r\n\r\n        const totalUsers = studentsRes.data.length + instructorsRes.data.length;\r\n        const activeUsers = Math.floor(totalUsers * 0.7); // Assuming 70% are active\r\n\r\n        // Calculate counts per department with better error handling\r\n        const counts: Record<number, number> = {};\r\n        studentsRes.data.forEach((student: any) => {\r\n          let departmentId: number | null = null;\r\n\r\n          // Handle different possible department structures\r\n          if (student.department) {\r\n            if (typeof student.department === 'object' && student.department !== null) {\r\n              // If department is an object, try different ID fields\r\n              if (student.department.id) {\r\n                departmentId = student.department.id;\r\n              } else if (student.department.department_id) {\r\n                departmentId = student.department.department_id;\r\n              } else if (student.department.departmentId) {\r\n                departmentId = student.department.departmentId;\r\n              }\r\n            } else if (typeof student.department === 'number') {\r\n              // If department is just an ID number\r\n              departmentId = student.department;\r\n            }\r\n          }\r\n\r\n          // Also check if department is stored as a direct property\r\n          if (!departmentId && (student as any).department_id) {\r\n            departmentId = (student as any).department_id;\r\n          }\r\n\r\n          if (departmentId) {\r\n            counts[departmentId] = (counts[departmentId] || 0) + 1;\r\n          }\r\n        });\r\n\r\n        setDepartmentCounts(counts);\r\n\r\n        setAdminData({\r\n          users: [...studentsRes.data, ...instructorsRes.data],\r\n          departments: departmentsRes.data,\r\n          stats: {\r\n            totalUsers,\r\n            activeUsers,\r\n            totalDepartments: departmentsRes.data.length,\r\n            totalCourses: coursesRes.data.length,\r\n            totalStudents: studentsRes.data.length,\r\n            totalStaff: instructorsRes.data.length,\r\n          },\r\n        });\r\n      } catch (error) {\r\n        console.error('Failed to fetch admin dashboard data:', error);\r\n        // Keep default values if fetch fails\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  // Fetch departments for results tab\r\n  useEffect(() => {\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        setResultsLoading(true);\r\n        const response = await academicsService.getDepartments();\r\n        setDepartments(response.data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch departments:', error);\r\n        setDepartments([]);\r\n      } finally {\r\n        setResultsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (activeTab === 'results') {\r\n      fetchDepartments();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Fetch semesters when department is selected\r\n  useEffect(() => {\r\n    const fetchSemesters = async () => {\r\n      if (!selectedDepartment) {\r\n        setSemesters([]);\r\n        setSelectedSemester(null);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await academicsService.getSemestersByDepartment(selectedDepartment);\r\n        // Filter to only semesters that have students\r\n        try {\r\n          const studentsResponse = await apiStudentService.getAllStudents({ department: selectedDepartment });\r\n          const students = studentsResponse.data;\r\n          const semesterIds = Array.from(new Set(\r\n            students\r\n              .map((student: any) => student.semester?.id || student.semester)\r\n              .filter((id: any) => id != null)\r\n          ));\r\n          const semestersWithStudents = response.data.filter((sem: any) => semesterIds.includes(sem.id));\r\n          setSemesters(semestersWithStudents);\r\n        } catch (error) {\r\n          console.error('Failed to filter semesters:', error);\r\n          // Keep all semesters if filtering fails\r\n          setSemesters(response.data);\r\n        }\r\n        setSelectedSemester(null); // Reset semester selection\r\n        setSelectedStudent(null); // Reset student selection\r\n        setStudentResults([]);\r\n      } catch (error) {\r\n        console.error('Failed to fetch semesters:', error);\r\n        setSemesters([]);\r\n      }\r\n    };\r\n\r\n    if (selectedDepartment) {\r\n      fetchSemesters();\r\n    }\r\n  }, [selectedDepartment]);\r\n\r\n  // Fetch students when semester is selected\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      if (!selectedDepartment || !selectedSemester) {\r\n        setStudents([]);\r\n        setSelectedStudent(null);\r\n        setStudentResults([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        // Use server-side filtering instead of client-side filtering\r\n        const response = await apiStudentService.getAllStudents({\r\n          department: selectedDepartment,\r\n          semester: selectedSemester\r\n        });\r\n        setStudents(response.data);\r\n        setSelectedStudent(null); // Reset student selection\r\n        setStudentResults([]);\r\n      } catch (error) {\r\n        console.error('Failed to fetch students:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (selectedDepartment && selectedSemester) {\r\n      fetchStudents();\r\n    }\r\n  }, [selectedDepartment, selectedSemester]);\r\n\r\n  // Fetch student results and courses when student is selected\r\n  useEffect(() => {\r\n    const fetchStudentData = async () => {\r\n      if (!selectedStudent) return;\r\n\r\n      try {\r\n        setResultsLoading(true);\r\n\r\n        // Fetch results and assigned courses for the student\r\n        const [resultsResponse, coursesResponse] = await Promise.all([\r\n          academicsService.getStudentResults(selectedStudent),\r\n          studentService.getStudentCourses(selectedStudent)\r\n        ]);\r\n\r\n        // Extract results array from the API response (handles both basic and enhanced endpoints)\r\n        const resultsData = resultsResponse.data;\r\n        const results = Array.isArray(resultsData) ? resultsData : (resultsData.results || []);\r\n        setStudentResults(results);\r\n        setStudentCourses(coursesResponse.data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch student results:', error);\r\n        setStudentResults([]);\r\n        setStudentCourses([]);\r\n      } finally {\r\n        setResultsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (selectedStudent) {\r\n      fetchStudentData();\r\n    }\r\n  }, [selectedStudent, selectedSemester]);\r\n\r\n  // Helper function to safely get course name\r\n  const getCourseName = (courseData: any): string => {\r\n    if (!courseData || courseData === null || courseData === undefined) return 'N/A';\r\n\r\n    try {\r\n      // If it's an object with a name property, extract the name\r\n      if (typeof courseData === 'object' && courseData !== null && 'name' in courseData) {\r\n        return courseData.name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with course_name property, extract the course_name\r\n      if (typeof courseData === 'object' && courseData !== null && 'course_name' in courseData) {\r\n        return courseData.course_name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with title property\r\n      if (typeof courseData === 'object' && courseData !== null && 'title' in courseData) {\r\n        return courseData.title || 'N/A';\r\n      }\r\n\r\n      // If it's an object with code property\r\n      if (typeof courseData === 'object' && courseData !== null && 'code' in courseData) {\r\n        return courseData.code || 'N/A';\r\n      }\r\n\r\n      // If it's an object with subject property\r\n      if (typeof courseData === 'object' && courseData !== null && 'subject' in courseData) {\r\n        return courseData.subject || 'N/A';\r\n      }\r\n\r\n      // Fallback for object with id\r\n      if (typeof courseData === 'object' && courseData !== null && courseData.id) {\r\n        return `Course ${courseData.id}`;\r\n      }\r\n\r\n      // If it's a string, return as is\r\n      if (typeof courseData === 'string') {\r\n        return courseData || 'N/A';\r\n      }\r\n\r\n      // Fallback\r\n      return 'N/A';\r\n    } catch (error) {\r\n      console.error('Error extracting course name:', error, courseData);\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n\r\n  // Helper function to safely get department name\r\n  const getDepartmentName = (departmentData: any): string => {\r\n    if (!departmentData || departmentData === null || departmentData === undefined) return 'N/A';\r\n\r\n    try {\r\n      // If it's an object with a name property, extract the name\r\n      if (typeof departmentData === 'object' && departmentData !== null && 'name' in departmentData) {\r\n        return departmentData.name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with department_name property\r\n      if (typeof departmentData === 'object' && departmentData !== null && 'department_name' in departmentData) {\r\n        return departmentData.department_name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with title property\r\n      if (typeof departmentData === 'object' && departmentData !== null && 'title' in departmentData) {\r\n        return departmentData.title || 'N/A';\r\n      }\r\n\r\n      // If it's an object with code property\r\n      if (typeof departmentData === 'object' && departmentData !== null && 'code' in departmentData) {\r\n        return departmentData.code || 'N/A';\r\n      }\r\n\r\n      // If it's a string, return as is\r\n      if (typeof departmentData === 'string') {\r\n        return departmentData || 'N/A';\r\n      }\r\n\r\n      // If it's an object with other properties, try to find a suitable name\r\n      if (typeof departmentData === 'object' && departmentData !== null) {\r\n        if (departmentData.id) return `Department ${departmentData.id}`;\r\n      }\r\n\r\n      return 'N/A';\r\n    } catch (error) {\r\n      console.error('Error extracting department name:', error, departmentData);\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n  // Helper function to safely get semester name\r\n  const getSemesterName = (semesterData: any): string => {\r\n    if (!semesterData || semesterData === null || semesterData === undefined) return 'N/A';\r\n\r\n    try {\r\n      // If it's an object with a name property, extract the name\r\n      if (typeof semesterData === 'object' && semesterData !== null && 'name' in semesterData) {\r\n        return semesterData.name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with semester_name property\r\n      if (typeof semesterData === 'object' && semesterData !== null && 'semester_name' in semesterData) {\r\n        return semesterData.semester_name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with title property\r\n      if (typeof semesterData === 'object' && semesterData !== null && 'title' in semesterData) {\r\n        return semesterData.title || 'N/A';\r\n      }\r\n\r\n      // If it's an object with code property\r\n      if (typeof semesterData === 'object' && semesterData !== null && 'code' in semesterData) {\r\n        return semesterData.code || 'N/A';\r\n      }\r\n\r\n      // If it's an object with semester_code property\r\n      if (typeof semesterData === 'object' && semesterData !== null && 'semester_code' in semesterData) {\r\n        return semesterData.semester_code || 'N/A';\r\n      }\r\n\r\n      // If it's a string, return as is\r\n      if (typeof semesterData === 'string') {\r\n        return semesterData || 'N/A';\r\n      }\r\n\r\n      // If it's an object with other properties, try to find a suitable name\r\n      if (typeof semesterData === 'object' && semesterData !== null) {\r\n        if (semesterData.id) return `Semester ${semesterData.id}`;\r\n      }\r\n\r\n      return 'N/A';\r\n    } catch (error) {\r\n      console.error('Error extracting semester name:', error, semesterData);\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n  // Helper function to safely get student name\r\n  const getStudentName = (studentData: any): string => {\r\n    if (!studentData || studentData === null || studentData === undefined) return 'N/A';\r\n\r\n    try {\r\n      // If it's an object with user property containing first_name and last_name\r\n      if (typeof studentData === 'object' && studentData !== null && studentData.user) {\r\n        const user = studentData.user;\r\n        if (!user || user === null || user === undefined) return 'N/A';\r\n        const firstName = user.first_name || '';\r\n        const lastName = user.last_name || '';\r\n        return `${firstName} ${lastName}`.trim() || 'N/A';\r\n      }\r\n\r\n      // If it's an object with name property\r\n      if (typeof studentData === 'object' && studentData !== null && 'name' in studentData) {\r\n        return studentData.name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with student_name property\r\n      if (typeof studentData === 'object' && studentData !== null && 'student_name' in studentData) {\r\n        return studentData.student_name || 'N/A';\r\n      }\r\n\r\n      // If it's an object with first_name and last_name properties\r\n      if (typeof studentData === 'object' && studentData !== null && 'first_name' in studentData && 'last_name' in studentData) {\r\n        return `${studentData.first_name || ''} ${studentData.last_name || ''}`.trim() || 'N/A';\r\n      }\r\n\r\n      // If it's an object with full_name property\r\n      if (typeof studentData === 'object' && studentData !== null && 'full_name' in studentData) {\r\n        return studentData.full_name || 'N/A';\r\n      }\r\n\r\n      // If it's a string, return as is\r\n      if (typeof studentData === 'string') {\r\n        return studentData || 'N/A';\r\n      }\r\n\r\n      // If it's an object with other properties, try to find a suitable name\r\n      if (typeof studentData === 'object' && studentData !== null) {\r\n        if (studentData.student_id) return `Student ${studentData.student_id}`;\r\n        if (studentData.id) return `Student ${studentData.id}`;\r\n      }\r\n\r\n      return 'N/A';\r\n    } catch (error) {\r\n      console.error('Error extracting student name:', error, studentData);\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n  // Generate PDF Report Card\r\n  const handleViewResultDetails = (result: any) => {\r\n    setSelectedResultForDetails(result);\r\n    setShowResultDetailsModal(true);\r\n  };\r\n\r\n  const generateReportCard = useCallback(() => {\r\n    if (!selectedStudent || studentResults.length === 0) return;\r\n\r\n    const doc = new jsPDF();\r\n    const selectedStudentData = students.find(s => s.id === selectedStudent);\r\n\r\n    // Header\r\n    doc.setFontSize(20);\r\n    doc.text('FGPG University', 105, 20, { align: 'center' });\r\n    doc.setFontSize(16);\r\n    doc.text('Student Report Card', 105, 30, { align: 'center' });\r\n\r\n    // Student Information\r\n    doc.setFontSize(12);\r\n    doc.text(`Student Name: ${selectedStudentData?.user?.first_name} ${selectedStudentData?.user?.last_name}`, 20, 50);\r\n    doc.text(`Student ID: ${selectedStudentData?.student_id}`, 20, 60);\r\n    doc.text(`Department: ${departments.find(d => d.id === selectedDepartment)?.name}`, 20, 70);\r\n    doc.text(`Semester: ${getSemesterName(selectedStudentData?.semester)}`, 20, 80);\r\n\r\n    // Results Table\r\n    let yPosition = 100;\r\n    doc.setFontSize(14);\r\n    doc.text('Academic Results', 20, yPosition);\r\n    yPosition += 10;\r\n\r\n    // Table headers\r\n    doc.setFontSize(10);\r\n    doc.text('Course', 20, yPosition);\r\n    doc.text('Grade', 120, yPosition);\r\n    doc.text('GPA', 160, yPosition);\r\n    yPosition += 5;\r\n\r\n    // Draw line\r\n    doc.line(20, yPosition, 190, yPosition);\r\n    yPosition += 10;\r\n\r\n    // Results data\r\n    if (studentResults && Array.isArray(studentResults)) {\r\n      studentResults.forEach((result: any) => {\r\n        doc.text(result.subject || 'N/A', 20, yPosition);\r\n        doc.text(result.grade || 'N/A', 120, yPosition);\r\n        doc.text(result.gpa?.toString() || 'N/A', 160, yPosition);\r\n        yPosition += 10;\r\n      });\r\n    }\r\n\r\n    // Footer\r\n    yPosition += 20;\r\n    doc.setFontSize(8);\r\n    doc.text('Generated on: ' + new Date().toLocaleDateString(), 20, yPosition);\r\n    doc.text('FGPG University Management System', 20, yPosition + 10);\r\n\r\n    // Save the PDF\r\n    doc.save(`report_card_${selectedStudentData?.student_id}.pdf`);\r\n  }, [selectedStudent, studentResults, students, departments, selectedDepartment]);\r\n\r\n  // Navigation tabs\r\n  const tabs = useMemo<{ id: TabId; label: string; icon: string }[]>(() => {\r\n    return [\r\n      { id: 'dashboard', label: 'Dashboard', icon: 'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6' },\r\n      { id: 'students', label: 'Students', icon: 'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z' },\r\n      { id: 'instructors', label: 'Instructors', icon: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z' },\r\n      { id: 'departments', label: 'Departments', icon: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4' },\r\n      { id: 'results', label: 'Results', icon: 'M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01' },\r\n      { id: 'fees', label: 'Fees', icon: 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },\r\n      { id: 'events', label: 'Events', icon: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' },\r\n      { id: 'messaging', label: 'Messaging', icon: 'M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z' },\r\n      { id: 'scholarships', label: 'Scholarships', icon: 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },\r\n    ];\r\n  }, []);\r\n\r\n  // Render navigation tabs\r\n  const renderTabs = () => {\r\n    return (\r\n      <div className=\"w-64 bg-gradient-to-b from-blue-800 to-indigo-900 text-white p-4 space-y-2 min-h-screen shadow-xl\">\r\n        <div className=\"mb-8 text-center\">\r\n          <div className=\"h-16 w-16 rounded-full bg-white mx-auto mb-2 flex items-center justify-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-indigo-700\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path d=\"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z\" />\r\n            </svg>\r\n          </div>\r\n          <h3 className=\"text-lg font-semibold\">FGPG Admin</h3>\r\n          <p className=\"text-xs text-indigo-200\">University Management</p>\r\n        </div>\r\n\r\n        <nav>\r\n          <ul className=\"space-y-1\">\r\n            {tabs.map((tab) => (\r\n              <li key={tab.id}>\r\n                <button\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`w-full flex items-center px-4 py-2 rounded-lg transition-colors ${activeTab === tab.id ? 'bg-indigo-700 text-white' : 'text-indigo-100 hover:bg-indigo-700'}`}\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={tab.icon} />\r\n                  </svg>\r\n                  <span>{tab.label}</span>\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <div className=\"mt-8\">\r\n            <button\r\n              onClick={logout}\r\n              className=\"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n          <div className=\"absolute bottom-4 right-4 text-center text-xs text-indigo-300\">\r\n            <p>University Management</p>\r\n            <p>Version 1.0.0</p>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render Results Tab\r\n  const renderResultsTab = () => {\r\n    const selectedStudentData = students.find(s => s.id === selectedStudent);\r\n\r\n    return (\r\n      <motion.div\r\n        key=\"results\"\r\n        initial={{ opacity: 0, x: 20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        exit={{ opacity: 0, x: -20 }}\r\n        transition={{ duration: 0.3 }}\r\n        className=\"space-y-6\"\r\n      >\r\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700\">\r\n          <motion.h2\r\n            className=\"text-2xl font-bold text-gray-900 dark:text-white dark:bg-gradient-to-r dark:from-indigo-600 dark:to-purple-600 dark:bg-clip-text dark:text-transparent mb-6\"\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, ease: \"easeOut\", delay: 0.2 }}\r\n          >\r\n            Student Results Management\r\n          </motion.h2>\r\n\r\n          {/* Selection Controls */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Select Department\r\n              </label>\r\n              <select\r\n                value={selectedDepartment || ''}\r\n                onChange={(e) => setSelectedDepartment(Number(e.target.value) || null)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              >\r\n                <option value=\"\">Choose a department...</option>\r\n                {departments.map((dept) => (\r\n                  <option key={dept.id} value={dept.id}>\r\n                    {getDepartmentName(dept)}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Select Semester\r\n              </label>\r\n              <select\r\n                value={selectedSemester || ''}\r\n                onChange={(e) => setSelectedSemester(Number(e.target.value) || null)}\r\n                disabled={!selectedDepartment || !semesters.length}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100 dark:disabled:bg-gray-600 disabled:cursor-not-allowed bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              >\r\n                <option value=\"\">\r\n                  {selectedDepartment ? (semesters.length ? 'Choose a semester...' : 'No semesters available') : 'Select department first'}\r\n                </option>\r\n                {semesters.map((sem) => (\r\n                  <option key={sem.id} value={sem.id}>\r\n                    {getSemesterName(sem)}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Select Student\r\n              </label>\r\n              <select\r\n                value={selectedStudent || ''}\r\n                onChange={(e) => setSelectedStudent(Number(e.target.value) || null)}\r\n                disabled={!selectedDepartment || !selectedSemester || loading}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100 dark:disabled:bg-gray-600 disabled:cursor-not-allowed bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              >\r\n                <option value=\"\">\r\n                  {loading ? 'Loading students...' : (selectedDepartment && selectedSemester) ? 'Choose a student...' : 'Select department and semester first'}\r\n                </option>\r\n                {students.map((student) => (\r\n                  <option key={student.id} value={student.id}>\r\n                    {getStudentName(student)}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Student Information */}\r\n          {selectedStudentData && (\r\n            <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-3\">Student Information</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Name</p>\r\n                  <p className=\"font-medium text-gray-900 dark:text-white\">{getStudentName(selectedStudentData)}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Student ID</p>\r\n                  <p className=\"font-medium text-gray-900 dark:text-white\">{selectedStudentData.student_id || 'N/A'}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Department</p>\r\n                  <p className=\"font-medium text-gray-900 dark:text-white\">{getDepartmentName(departments.find(d => d.id === selectedDepartment))}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Semester</p>\r\n                  <p className=\"font-medium text-gray-900 dark:text-white\">{getSemesterName(selectedStudentData?.semester)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n          {/* Results Display */}\r\n          {selectedStudent && (\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Academic Results</h3>\r\n                <button\r\n                  onClick={generateReportCard}\r\n                  disabled={studentResults.length === 0}\r\n                  className=\"bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2\"\r\n                >\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                  </svg>\r\n                  <span>Generate Report Card</span>\r\n                </button>\r\n              </div>\r\n\r\n              {resultsLoading ? (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"></div>\r\n                  <p className=\"text-gray-600 dark:text-gray-400 mt-2\">Loading results...</p>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  {/* Course Overview */}\r\n                  {studentCourses.length > 0 && (\r\n                    <div className=\"mb-6\">\r\n                      <h4 className=\"text-md font-semibold text-gray-900 dark:text-white mb-3\">Course Overview</h4>\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                        {studentCourses.map((course, index) => {\r\n                          const result = studentResults && Array.isArray(studentResults)\r\n                            ? studentResults.find(r => r.subject === getCourseName(course))\r\n                            : null;\r\n\r\n                          return (\r\n                            <div key={index} className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                              <div className=\"flex justify-between items-start mb-2\">\r\n                                <h5 className=\"font-medium text-gray-900 dark:text-white\">{getCourseName(course)}</h5>\r\n                                <span className={`px-2 py-1 text-xs font-semibold rounded-full ${result ? (result.grade === 'A' || result.grade === 'A-' || result.grade === 'B+' || result.grade === 'B' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : result.grade === 'C' || result.grade === 'C-' || result.grade === 'D' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200') : 'bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200'}`}>\r\n                                  {result ? 'Completed' : 'Pending'}\r\n                                </span>\r\n                              </div>\r\n                              {result && (\r\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                  <p>Grade: <span className=\"font-medium\">{result.grade || 'N/A'}</span></p>\r\n                                  <p>GPA: <span className=\"font-medium\">{result.gpa || 'N/A'}</span></p>\r\n                                </div>\r\n                              )}\r\n                              {!result && (\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Result pending</p>\r\n                              )}\r\n                            </div>\r\n                          );\r\n                              })}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Detailed Results Table */}\r\n                  {studentResults.length > 0 ? (\r\n                    <div className=\"overflow-x-auto\">\r\n                      <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\">\r\n                        <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n                          <tr>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                              Course\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                              Grade\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                              GPA\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                              Status\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                              Actions\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600\">\r\n                          {studentResults.map((result, index) => (\r\n                            <tr key={index} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\r\n                                {result.subject}\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                {result.grade || 'N/A'}\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                {result.gpa || 'N/A'}\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${result.grade === 'A' || result.grade === 'A-' || result.grade === 'B+' || result.grade === 'B' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : result.grade === 'C' || result.grade === 'C-' || result.grade === 'D' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'}`}>\r\n                                  {result.grade ? 'Completed' : 'Pending'}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                                <button\r\n                                  onClick={() => handleViewResultDetails(result)}\r\n                                  className=\"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300\"\r\n                                >\r\n                                  View Details\r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\r\n                      <svg className=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n                      </svg>\r\n                      <p className=\"mt-2\">No results found for this student.</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n        {/* Result Details Modal */}\r\n        {showResultDetailsModal && selectedResultForDetails && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n              <div className=\"p-6\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                  <h3 className=\"text-xl font-bold text-gray-900\">Result Details</h3>\r\n                  <button\r\n                    onClick={() => setShowResultDetailsModal(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Tab Navigation */}\r\n                <div className=\"border-b border-gray-200 mb-6\">\r\n                  <nav className=\"-mb-px flex space-x-8\">\r\n                    <button\r\n                      onClick={() => setResultDetailsActiveTab('course')}\r\n                      className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                        resultDetailsActiveTab === 'course'\r\n                          ? 'border-indigo-500 text-indigo-600'\r\n                          : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                      }`}\r\n                    >\r\n                      Course Details\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setResultDetailsActiveTab('all')}\r\n                      className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                        resultDetailsActiveTab === 'all'\r\n                          ? 'border-indigo-500 text-indigo-600'\r\n                          : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                      }`}\r\n                    >\r\n                      All Courses\r\n                    </button>\r\n                  </nav>\r\n                </div>\r\n\r\n                {/* Tab Content */}\r\n                <div>\r\n                  {resultDetailsActiveTab === 'course' ? (\r\n                    <div className=\"space-y-6\">\r\n                      {/* Basic Information */}\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Course Information</h4>\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Course</p>\r\n                            <p className=\"font-medium\">{selectedResultForDetails.subject || 'N/A'}</p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Exam Type</p>\r\n                            <p className=\"font-medium\">{selectedResultForDetails.exam_type || 'N/A'}</p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Exam Date</p>\r\n                            <p className=\"font-medium\">\r\n                              {selectedResultForDetails.exam_date\r\n                                ? new Date(selectedResultForDetails.exam_date).toLocaleDateString()\r\n                                : 'N/A'\r\n                              }\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Grade</p>\r\n                            <span className={`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${selectedResultForDetails.grade === 'F' ? 'bg-red-100 text-red-800' : selectedResultForDetails.grade?.startsWith('A') ? 'bg-green-100 text-green-800' : selectedResultForDetails.grade?.startsWith('B') ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                              {selectedResultForDetails.grade || 'N/A'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Marks Breakdown */}\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Marks Breakdown</h4>\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Obtained Marks</span>\r\n                            <span className=\"font-medium\">{selectedResultForDetails.obtained_marks || 0}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Total Marks</span>\r\n                            <span className=\"font-medium\">{selectedResultForDetails.total_marks || 0}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Percentage</span>\r\n                            <span className=\"font-medium\">{selectedResultForDetails.percentage?.toFixed(1) || 0}%</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">GPA Points</span>\r\n                            <span className=\"font-medium\">{selectedResultForDetails.gpa || 'N/A'}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Detailed Assessment Breakdown */}\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Complete Assessment Breakdown</h4>\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                          Detailed marks for all assessments in this course\r\n                        </p>\r\n\r\n                        {/* Get all results for this course */}\r\n                        {(() => {\r\n                          const courseResults = studentResults.filter(r => r.subject === selectedResultForDetails.subject);\r\n                          const quiz1 = courseResults.find(r => r.exam_type.toLowerCase().includes('quiz 1'));\r\n                          const quiz2 = courseResults.find(r => r.exam_type.toLowerCase().includes('quiz 2'));\r\n                          const assignment1 = courseResults.find(r => r.exam_type.toLowerCase().includes('assignment 1'));\r\n                          const assignment2 = courseResults.find(r => r.exam_type.toLowerCase().includes('assignment 2'));\r\n                          const midTerm = courseResults.find(r => r.exam_type.toLowerCase().includes('mid'));\r\n                          const finalExam = courseResults.find(r => r.exam_type.toLowerCase().includes('final'));\r\n\r\n                          return (\r\n                            <div className=\"space-y-3\">\r\n                              {/* Quizzes */}\r\n                              <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Quiz 1</span>\r\n                                    <span className={`text-sm font-bold ${quiz1 ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {quiz1 ? `${quiz1.obtained_marks}/5` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {quiz1 && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(quiz1.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Quiz 2</span>\r\n                                    <span className={`text-sm font-bold ${quiz2 ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {quiz2 ? `${quiz2.obtained_marks}/5` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {quiz2 && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(quiz2.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Assignments */}\r\n                              <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Assignment 1</span>\r\n                                    <span className={`text-sm font-bold ${assignment1 ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {assignment1 ? `${assignment1.obtained_marks}/5` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {assignment1 && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(assignment1.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Assignment 2</span>\r\n                                    <span className={`text-sm font-bold ${assignment2 ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {assignment2 ? `${assignment2.obtained_marks}/5` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {assignment2 && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(assignment2.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Mid-term and Final */}\r\n                              <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Mid-term Exam</span>\r\n                                    <span className={`text-sm font-bold ${midTerm ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {midTerm ? `${midTerm.obtained_marks}/25` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {midTerm && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(midTerm.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"bg-white p-3 rounded border\">\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm font-medium\">Final Exam</span>\r\n                                    <span className={`text-sm font-bold ${finalExam ? 'text-green-600' : 'text-gray-400'}`}>\r\n                                      {finalExam ? `${finalExam.obtained_marks}/60` : 'Not submitted'}\r\n                                    </span>\r\n                                  </div>\r\n                                  {finalExam && (\r\n                                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                                      {new Date(finalExam.exam_date).toLocaleDateString()}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Total Calculation */}\r\n                              <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200 mt-4\">\r\n                                <h5 className=\"text-sm font-semibold text-blue-900 mb-2\">Grade Calculation</h5>\r\n                                <div className=\"text-sm text-blue-800 space-y-1\">\r\n                                  <div className=\"flex justify-between\">\r\n                                    <span>Quizzes (10 marks total):</span>\r\n                                    <span>{((quiz1?.obtained_marks || 0) + (quiz2?.obtained_marks || 0))}/10</span>\r\n                                  </div>\r\n                                  <div className=\"flex justify-between\">\r\n                                    <span>Assignments (10 marks total):</span>\r\n                                    <span>{((assignment1?.obtained_marks || 0) + (assignment2?.obtained_marks || 0))}/10</span>\r\n                                  </div>\r\n                                  <div className=\"flex justify-between\">\r\n                                    <span>Mid-term (25 marks):</span>\r\n                                    <span>{midTerm?.obtained_marks || 0}/25</span>\r\n                                  </div>\r\n                                  <div className=\"flex justify-between\">\r\n                                    <span>Final Exam (60 marks):</span>\r\n                                    <span>{finalExam?.obtained_marks || 0}/60</span>\r\n                                  </div>\r\n                                  <hr className=\"my-2\" />\r\n                                  <div className=\"flex justify-between font-semibold\">\r\n                                    <span>Total Score:</span>\r\n                                    <span>\r\n                                      {((quiz1?.obtained_marks || 0) + (quiz2?.obtained_marks || 0) +\r\n                                        (assignment1?.obtained_marks || 0) + (assignment2?.obtained_marks || 0) +\r\n                                        (midTerm?.obtained_marks || 0) + (finalExam?.obtained_marks || 0))}/105\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"flex justify-between font-semibold text-lg\">\r\n                                    <span>Final Grade:</span>\r\n                                    <span className={selectedResultForDetails.grade === 'F' ? 'text-red-600' : selectedResultForDetails.grade?.startsWith('A') ? 'text-green-600' : 'text-blue-600'}>\r\n                                      {selectedResultForDetails.grade}\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })()}\r\n                      </div>\r\n\r\n                      {/* Remarks */}\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Remarks</h4>\r\n                        <p className=\"text-sm text-gray-700\">\r\n                          {selectedResultForDetails.remarks || (selectedResultForDetails.grade === 'F' ? 'Failed - Needs improvement' : selectedResultForDetails.grade?.startsWith('A') ? 'Excellent performance' : selectedResultForDetails.grade?.startsWith('B') ? 'Good performance' : 'Satisfactory performance')}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ) : resultDetailsActiveTab === 'all' ? (\r\n                    <div className=\"space-y-6\">\r\n                      {/* All Courses Overview */}\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">All Courses Assessment Status</h4>\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                          Overview of all courses and their assessment completion status\r\n                        </p>\r\n\r\n                        <div className=\"space-y-4\">\r\n                          {studentCourses.map((course, index) => {\r\n                            const courseResults = studentResults.filter(r => r.subject === getCourseName(course));\r\n                            const finalResult = courseResults.find(r => r.exam_type.toLowerCase().includes('final'));\r\n\r\n                            // Count completed assessments\r\n                            const quiz1 = courseResults.find(r => r.exam_type.toLowerCase().includes('quiz 1'));\r\n                            const quiz2 = courseResults.find(r => r.exam_type.toLowerCase().includes('quiz 2'));\r\n                            const assignment1 = courseResults.find(r => r.exam_type.toLowerCase().includes('assignment 1'));\r\n                            const assignment2 = courseResults.find(r => r.exam_type.toLowerCase().includes('assignment 2'));\r\n                            const midTerm = courseResults.find(r => r.exam_type.toLowerCase().includes('mid'));\r\n                            const finalExam = courseResults.find(r => r.exam_type.toLowerCase().includes('final'));\r\n\r\n                            const completedAssessments = [quiz1, quiz2, assignment1, assignment2, midTerm, finalExam].filter(Boolean).length;\r\n                            const totalAssessments = 6;\r\n\r\n                            return (\r\n                              <div key={index} className=\"bg-white p-4 rounded-lg border\">\r\n                                <div className=\"flex justify-between items-start mb-3\">\r\n                                  <div>\r\n                                    <h5 className=\"font-semibold text-gray-900\">{getCourseName(course)}</h5>\r\n                                    <p className=\"text-sm text-gray-600\">\r\n                                      {completedAssessments}/{totalAssessments} assessments completed\r\n                                    </p>\r\n                                  </div>\r\n                                  <div className=\"text-right\">\r\n                                    {finalResult ? (\r\n                                      <span className={`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${finalResult.grade === 'F' ? 'bg-red-100 text-red-800' : finalResult.grade?.startsWith('A') ? 'bg-green-100 text-green-800' : finalResult.grade?.startsWith('B') ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {finalResult.grade}\r\n                                      </span>\r\n                                    ) : (\r\n                                      <span className=\"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-gray-100 text-gray-800\">\r\n                                        Pending\r\n                                      </span>\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Assessment Status Grid */}\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs\">\r\n                                  <div className={`p-2 rounded ${quiz1 ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Quiz 1: {quiz1 ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                  <div className={`p-2 rounded ${quiz2 ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Quiz 2: {quiz2 ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                  <div className={`p-2 rounded ${assignment1 ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Assignment 1: {assignment1 ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                  <div className={`p-2 rounded ${assignment2 ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Assignment 2: {assignment2 ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                  <div className={`p-2 rounded ${midTerm ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Mid-term: {midTerm ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                  <div className={`p-2 rounded ${finalExam ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-500'}`}>\r\n                                    Final Exam: {finalExam ? '✓' : 'Pending'}\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Progress Bar */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"flex justify-between text-xs text-gray-600 mb-1\">\r\n                                    <span>Progress</span>\r\n                                    <span>{Math.round((completedAssessments / totalAssessments) * 100)}%</span>\r\n                                  </div>\r\n                                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                    <div\r\n                                      className=\"bg-indigo-600 h-2 rounded-full transition-all duration-300\"\r\n                                      style={{ width: `${(completedAssessments / totalAssessments) * 100}%` }}\r\n                                    ></div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n\r\n                <div className=\"flex justify-end mt-6\">\r\n                  <button\r\n                    onClick={() => setShowResultDetailsModal(false)}\r\n                    className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n    );\r\n  };\r\n\r\n  // Chart data for performance overview\r\n  const performanceChartData = useMemo(() => {\r\n    return {\r\n      labels: ['Attendance', 'Assignments', 'Mid-term', 'Final', 'Projects'],\r\n      datasets: [\r\n        {\r\n          label: 'Average Score',\r\n          data: [85, 90, 75, 88, 82],\r\n          backgroundColor: 'rgba(79, 70, 229, 0.2)',\r\n          borderColor: 'rgba(79, 70, 229, 1)',\r\n          borderWidth: 1,\r\n        }\r\n      ]\r\n    };\r\n  }, []);\r\n\r\n  // Main render\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      {renderTabs()}\r\n      <div className=\"flex-1 p-8\">\r\n        <div className=\"mb-8\">\r\n          <motion.h1\r\n            className=\"text-3xl font-bold text-gray-900 dark:text-white dark:bg-gradient-to-r dark:from-indigo-600 dark:to-purple-600 dark:bg-clip-text dark:text-transparent\"\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n          >\r\n            Admin Dashboard\r\n          </motion.h1>\r\n          <p className=\"text-gray-600 dark:text-gray-300 mt-2\">Welcome to the University Management System</p>\r\n        </div>\r\n\r\n        {activeTab === 'dashboard' && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 text-sm\">Total Students</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{adminData.stats.totalStudents}</p>\r\n                  </div>\r\n                  <div className=\"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                    <svg className=\"h-6 w-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 016 0z\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 text-sm\">Total Instructors</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{adminData.stats.totalStaff}</p>\r\n                  </div>\r\n                  <div className=\"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                    <svg className=\"h-6 w-6 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 text-sm\">Departments</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{adminData.stats.totalDepartments}</p>\r\n                  </div>\r\n                  <div className=\"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                    <svg className=\"h-6 w-6 text-purple-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 text-sm\">Courses</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{adminData.stats.totalCourses}</p>\r\n                  </div>\r\n                  <div className=\"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center\">\r\n                    <svg className=\"h-6 w-6 text-yellow-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.1 }}\r\n              className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n            >\r\n              <NotificationPanel />\r\n            </motion.div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Overview</h3>\r\n                <div className=\"h-64\">\r\n                  <Bar data={performanceChartData} options={{ responsive: true, maintainAspectRatio: false }} />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">System Health</h3>\r\n                <SystemHealthWidget />\r\n              </div>\r\n            </div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.2 }}\r\n              className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n            >\r\n              <QuickActions />\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.3 }}\r\n              className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n            >\r\n              <AIInsights />\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.4 }}\r\n              className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n            >\r\n              <ActivityFeed />\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.5 }}\r\n              className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n            >\r\n              <CalendarWidget />\r\n            </motion.div>\r\n\r\n          </motion.div>\r\n        )}\r\n\r\n        {activeTab === 'students' && <StudentManagement activeTab={activeTab} />}\r\n        {activeTab === 'instructors' && <TeacherManagement activeTab={activeTab} />}\r\n        {activeTab === 'departments' && <DepartmentManagement activeTab={activeTab} />}\r\n        {activeTab === 'courses' && <CourseManagement activeTab={activeTab} />}\r\n        {activeTab === 'results' && renderResultsTab()}\r\n        {activeTab === 'fees' && <FeeManagement />}\r\n        {activeTab === 'events' && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Events Management</h2>\r\n            <p className=\"text-gray-600\">Events management functionality will be implemented here.</p>\r\n          </motion.div>\r\n        )}\r\n        {activeTab === 'messaging' && <MessagingSystem />}\r\n        {activeTab === 'scholarships' && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\"\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Scholarships</h2>\r\n            <p className=\"text-gray-600\">Scholarship management functionality will be implemented here.</p>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}