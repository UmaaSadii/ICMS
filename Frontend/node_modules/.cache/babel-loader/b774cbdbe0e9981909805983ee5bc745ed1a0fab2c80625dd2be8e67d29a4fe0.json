{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{messagingService}from'../../api/messagingService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MessageComposer=()=>{const[messageType,setMessageType]=useState('EMAIL');const[recipientType,setRecipientType]=useState('STUDENT');const[subject,setSubject]=useState('');const[body,setBody]=useState('');const[selectedRecipient,setSelectedRecipient]=useState(null);const[selectedRecipients,setSelectedRecipients]=useState([]);// Search functionality\nconst[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const[loading,setLoading]=useState(false);const[success,setSuccess]=useState(false);const[error,setError]=useState(null);// Search recipients\nconst searchRecipients=useCallback(async query=>{if(!query.trim()){setSearchResults([]);return;}setIsSearching(true);try{const response=await messagingService.searchRecipients(query,recipientType);setSearchResults(response.data);}catch(error){console.error('Failed to search recipients:',error);setSearchResults([]);}finally{setIsSearching(false);}},[recipientType]);// Debounced search\nuseEffect(()=>{const timeoutId=setTimeout(()=>{searchRecipients(searchQuery);},300);return()=>clearTimeout(timeoutId);},[searchQuery,searchRecipients]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);setSuccess(false);try{if(selectedRecipient){// Individual message\nawait messagingService.sendIndividualMessage({recipient_id:selectedRecipient.id,recipient_type:selectedRecipient.type,message_type:messageType,subject,body});}else if(selectedRecipients.length>0){// Bulk message\nawait messagingService.sendBulkMessage({recipient_ids:selectedRecipients.map(r=>r.id),recipient_type:recipientType,message_type:messageType,subject,body});}else{throw new Error('Please select at least one recipient');}setSuccess(true);// Reset form\nsetSubject('');setBody('');setSelectedRecipient(null);setSelectedRecipients([]);setSearchQuery('');setSearchResults([]);}catch(error){var _error$response,_error$response$data;console.error('Failed to send message:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message||'Failed to send message. Please try again.');}finally{setLoading(false);}};const addRecipient=recipient=>{if(selectedRecipients.find(r=>r.id===recipient.id)){return;// Already selected\n}setSelectedRecipients([...selectedRecipients,recipient]);setSearchQuery('');setSearchResults([]);};const removeRecipient=recipientId=>{setSelectedRecipients(selectedRecipients.filter(r=>r.id!==recipientId));};const selectIndividualRecipient=recipient=>{setSelectedRecipient(recipient);setSearchQuery(recipient.name);setSearchResults([]);};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Compose Message\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Message Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setMessageType('EMAIL'),className:\"px-4 py-2 rounded-md transition-colors \".concat(messageType==='EMAIL'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-800 hover:bg-gray-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"})}),\"Email\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setMessageType('SMS'),className:\"px-4 py-2 rounded-md transition-colors \".concat(messageType==='SMS'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-800 hover:bg-gray-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"})}),\"SMS\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setMessageType('CALL'),className:\"px-4 py-2 rounded-md transition-colors \".concat(messageType==='CALL'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-800 hover:bg-gray-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"})}),\"Call\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recipient Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setRecipientType('STUDENT');setSelectedRecipient(null);setSelectedRecipients([]);setSearchQuery('');setSearchResults([]);},className:\"px-4 py-2 rounded-md transition-colors \".concat(recipientType==='STUDENT'?'bg-blue-600 text-white':'bg-gray-100 text-gray-800 hover:bg-gray-200'),children:\"Students\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setRecipientType('INSTRUCTOR');setSelectedRecipient(null);setSelectedRecipients([]);setSearchQuery('');setSearchResults([]);},className:\"px-4 py-2 rounded-md transition-colors \".concat(recipientType==='INSTRUCTOR'?'bg-blue-600 text-white':'bg-gray-100 text-gray-800 hover:bg-gray-200'),children:\"Instructors\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recipients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"Search \".concat(recipientType.toLowerCase(),\"s...\"),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"}),isSearching&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-3\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-gray-400\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]})})]}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 max-h-40 overflow-y-auto border border-gray-300 rounded-md\",children:searchResults.map(recipient=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>selectIndividualRecipient(recipient),className:\"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:recipient.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:recipient.email})]},recipient.id))}),selectedRecipients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Selected Recipients:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:selectedRecipients.map(recipient=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800\",children:[recipient.name,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeRecipient(recipient.id),className:\"ml-2 text-indigo-600 hover:text-indigo-800\",children:\"\\xD7\"})]},recipient.id))})]}),selectedRecipient&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Selected Recipient:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800\",children:[selectedRecipient.name,\" (\",selectedRecipient.email,\")\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSelectedRecipient(null),className:\"ml-2 text-green-600 hover:text-green-800\",children:\"\\xD7\"})]})]})]}),messageType==='EMAIL'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subject\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subject\",value:subject,onChange:e=>setSubject(e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",required:messageType==='EMAIL'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"body\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"body\",value:body,onChange:e=>setBody(e.target.value),rows:6,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",placeholder:\"Enter your \".concat(messageType.toLowerCase(),\" message here...\"),required:true})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!selectedRecipient&&selectedRecipients.length===0,className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300 disabled:cursor-not-allowed\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Sending...\"]}):\"Send \".concat(messageType==='CALL'?'Call Request':messageType)})})]}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-green-50 border border-green-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-green-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-800\",children:messageType==='CALL'?'Call request sent successfully!':\"\".concat(messageType,\" sent successfully!\")})})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-red-800\",children:error})})]})})]})});};export default MessageComposer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","messagingService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MessageComposer","messageType","setMessageType","recipientType","setRecipientType","subject","setSubject","body","setBody","selectedRecipient","setSelectedRecipient","selectedRecipients","setSelectedRecipients","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","loading","setLoading","success","setSuccess","error","setError","searchRecipients","query","trim","response","data","console","timeoutId","setTimeout","clearTimeout","handleSubmit","e","preventDefault","sendIndividualMessage","recipient_id","id","recipient_type","type","message_type","length","sendBulkMessage","recipient_ids","map","r","Error","_error$response","_error$response$data","message","addRecipient","recipient","find","removeRecipient","recipientId","filter","selectIndividualRecipient","name","className","children","onSubmit","onClick","concat","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","value","onChange","target","placeholder","toLowerCase","cx","cy","email","htmlFor","required","rows","disabled","fillRule","clipRule"],"sources":["C:/UMI/Frontend/src/components/messaging/MessageComposer.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { messagingService } from '../../api/messagingService';\n\ninterface Recipient {\n  id: number;\n  name: string;\n  email: string;\n  type: 'STUDENT' | 'INSTRUCTOR';\n}\n\nconst MessageComposer: React.FC = () => {\n  const [messageType, setMessageType] = useState<'SMS' | 'EMAIL' | 'CALL'>('EMAIL');\n  const [recipientType, setRecipientType] = useState<'STUDENT' | 'INSTRUCTOR'>('STUDENT');\n  const [subject, setSubject] = useState<string>('');\n  const [body, setBody] = useState<string>('');\n  const [selectedRecipient, setSelectedRecipient] = useState<Recipient | null>(null);\n  const [selectedRecipients, setSelectedRecipients] = useState<Recipient[]>([]);\n\n  // Search functionality\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [searchResults, setSearchResults] = useState<Recipient[]>([]);\n  const [isSearching, setIsSearching] = useState<boolean>(false);\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [success, setSuccess] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Search recipients\n  const searchRecipients = useCallback(async (query: string) => {\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    try {\n      const response = await messagingService.searchRecipients(query, recipientType);\n      setSearchResults(response.data);\n    } catch (error) {\n      console.error('Failed to search recipients:', error);\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  }, [recipientType]);\n\n  // Debounced search\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      searchRecipients(searchQuery);\n    }, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [searchQuery, searchRecipients]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      if (selectedRecipient) {\n        // Individual message\n        await messagingService.sendIndividualMessage({\n          recipient_id: selectedRecipient.id,\n          recipient_type: selectedRecipient.type,\n          message_type: messageType,\n          subject,\n          body\n        });\n      } else if (selectedRecipients.length > 0) {\n        // Bulk message\n        await messagingService.sendBulkMessage({\n          recipient_ids: selectedRecipients.map(r => r.id),\n          recipient_type: recipientType,\n          message_type: messageType,\n          subject,\n          body\n        });\n      } else {\n        throw new Error('Please select at least one recipient');\n      }\n\n      setSuccess(true);\n      // Reset form\n      setSubject('');\n      setBody('');\n      setSelectedRecipient(null);\n      setSelectedRecipients([]);\n      setSearchQuery('');\n      setSearchResults([]);\n    } catch (error: any) {\n      console.error('Failed to send message:', error);\n      setError(error.response?.data?.error || error.message || 'Failed to send message. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addRecipient = (recipient: Recipient) => {\n    if (selectedRecipients.find(r => r.id === recipient.id)) {\n      return; // Already selected\n    }\n    setSelectedRecipients([...selectedRecipients, recipient]);\n    setSearchQuery('');\n    setSearchResults([]);\n  };\n\n  const removeRecipient = (recipientId: number) => {\n    setSelectedRecipients(selectedRecipients.filter(r => r.id !== recipientId));\n  };\n\n  const selectIndividualRecipient = (recipient: Recipient) => {\n    setSelectedRecipient(recipient);\n    setSearchQuery(recipient.name);\n    setSearchResults([]);\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Compose Message</h2>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Message Type Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Message Type</label>\n            <div className=\"flex space-x-4\">\n              <button\n                type=\"button\"\n                onClick={() => setMessageType('EMAIL')}\n                className={`px-4 py-2 rounded-md transition-colors ${\n                  messageType === 'EMAIL'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                }`}\n              >\n                <div className=\"flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                  </svg>\n                  Email\n                </div>\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setMessageType('SMS')}\n                className={`px-4 py-2 rounded-md transition-colors ${\n                  messageType === 'SMS'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                }`}\n              >\n                <div className=\"flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                  </svg>\n                  SMS\n                </div>\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setMessageType('CALL')}\n                className={`px-4 py-2 rounded-md transition-colors ${\n                  messageType === 'CALL'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                }`}\n              >\n                <div className=\"flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                  </svg>\n                  Call\n                </div>\n              </button>\n            </div>\n          </div>\n\n          {/* Recipient Type Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Recipient Type</label>\n            <div className=\"flex space-x-4\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setRecipientType('STUDENT');\n                  setSelectedRecipient(null);\n                  setSelectedRecipients([]);\n                  setSearchQuery('');\n                  setSearchResults([]);\n                }}\n                className={`px-4 py-2 rounded-md transition-colors ${\n                  recipientType === 'STUDENT'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                }`}\n              >\n                Students\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setRecipientType('INSTRUCTOR');\n                  setSelectedRecipient(null);\n                  setSelectedRecipients([]);\n                  setSearchQuery('');\n                  setSearchResults([]);\n                }}\n                className={`px-4 py-2 rounded-md transition-colors ${\n                  recipientType === 'INSTRUCTOR'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                }`}\n              >\n                Instructors\n              </button>\n            </div>\n          </div>\n\n          {/* Recipient Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Recipients</label>\n\n            {/* Search Input */}\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder={`Search ${recipientType.toLowerCase()}s...`}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              />\n              {isSearching && (\n                <div className=\"absolute right-3 top-3\">\n                  <svg className=\"animate-spin h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                </div>\n              )}\n            </div>\n\n            {/* Search Results */}\n            {searchResults.length > 0 && (\n              <div className=\"mt-2 max-h-40 overflow-y-auto border border-gray-300 rounded-md\">\n                {searchResults.map((recipient) => (\n                  <div\n                    key={recipient.id}\n                    onClick={() => selectIndividualRecipient(recipient)}\n                    className=\"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0\"\n                  >\n                    <div className=\"font-medium\">{recipient.name}</div>\n                    <div className=\"text-sm text-gray-600\">{recipient.email}</div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Selected Recipients */}\n            {selectedRecipients.length > 0 && (\n              <div className=\"mt-3\">\n                <p className=\"text-sm font-medium text-gray-700 mb-2\">Selected Recipients:</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {selectedRecipients.map((recipient) => (\n                    <span\n                      key={recipient.id}\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800\"\n                    >\n                      {recipient.name}\n                      <button\n                        type=\"button\"\n                        onClick={() => removeRecipient(recipient.id)}\n                        className=\"ml-2 text-indigo-600 hover:text-indigo-800\"\n                      >\n                        ×\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Individual Recipient Display */}\n            {selectedRecipient && (\n              <div className=\"mt-3\">\n                <p className=\"text-sm font-medium text-gray-700 mb-2\">Selected Recipient:</p>\n                <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800\">\n                  {selectedRecipient.name} ({selectedRecipient.email})\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedRecipient(null)}\n                    className=\"ml-2 text-green-600 hover:text-green-800\"\n                  >\n                    ×\n                  </button>\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Subject - only for email */}\n          {messageType === 'EMAIL' && (\n            <div>\n              <label htmlFor=\"subject\" className=\"block text-sm font-medium text-gray-700 mb-2\">Subject</label>\n              <input\n                type=\"text\"\n                id=\"subject\"\n                value={subject}\n                onChange={(e) => setSubject(e.target.value)}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                required={messageType === 'EMAIL'}\n              />\n            </div>\n          )}\n\n          {/* Message Body */}\n          <div>\n            <label htmlFor=\"body\" className=\"block text-sm font-medium text-gray-700 mb-2\">Message</label>\n            <textarea\n              id=\"body\"\n              value={body}\n              onChange={(e) => setBody(e.target.value)}\n              rows={6}\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              placeholder={`Enter your ${messageType.toLowerCase()} message here...`}\n              required\n            />\n          </div>\n\n          {/* Submit Button */}\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading || (!selectedRecipient && selectedRecipients.length === 0)}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300 disabled:cursor-not-allowed\"\n            >\n              {loading ? (\n                <>\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Sending...\n                </>\n              ) : (\n                `Send ${messageType === 'CALL' ? 'Call Request' : messageType}`\n              )}\n            </button>\n          </div>\n        </form>\n\n        {/* Success/Error Messages */}\n        {success && (\n          <div className=\"mt-6 bg-green-50 border border-green-200 rounded-md p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-green-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-green-800\">\n                  {messageType === 'CALL' ? 'Call request sent successfully!' : `${messageType} sent successfully!`}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"mt-6 bg-red-50 border border-red-200 rounded-md p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-red-800\">{error}</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessageComposer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}