{"ast":null,"code":"var _jsxFileName = \"C:\\\\UMI\\\\Frontend\\\\src\\\\routes\\\\ProtectedRoute.tsx\",\n  _s = $RefreshSig$();\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  allowedRoles = []\n}) => {\n  _s();\n  const {\n    currentUser,\n    loading\n  } = useAuth();\n\n  // Show loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }, this);\n  }\n\n  // If not logged in → redirect to login\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 12\n    }, this);\n  }\n\n  // If roles are specified and user's role is not allowed → redirect to dashboard\n  if (allowedRoles.length > 0 && !allowedRoles.includes(currentUser.role)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Otherwise → render page\n  return children ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false) : /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 39\n  }, this);\n};\n_s(ProtectedRoute, \"+loUN5XsQVjYs/gtfuWkb9VBZ7Q=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["Navigate","Outlet","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","allowedRoles","_s","currentUser","loading","className","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","length","includes","role","_c","$RefreshReg$"],"sources":["C:/UMI/Frontend/src/routes/ProtectedRoute.tsx"],"sourcesContent":["import { Navigate, Outlet } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\ninterface ProtectedRouteProps {\r\n  allowedRoles?: string[];\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst ProtectedRoute = ({ children, allowedRoles = [] }: ProtectedRouteProps) => {\r\n  const { currentUser, loading } = useAuth();\r\n\r\n  // Show loading state\r\n  if (loading) {\r\n    return <div className=\"flex items-center justify-center h-screen\">Loading...</div>;\r\n  }\r\n\r\n  // If not logged in → redirect to login\r\n  if (!currentUser) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  // If roles are specified and user's role is not allowed → redirect to dashboard\r\n  if (allowedRoles.length > 0 && !allowedRoles.includes(currentUser.role)) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  // Otherwise → render page\r\n  return children ? <>{children}</> : <Outlet />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AACnD,SAASC,OAAO,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAOjD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,YAAY,GAAG;AAAwB,CAAC,KAAK;EAAAC,EAAA;EAC/E,MAAM;IAAEC,WAAW;IAAEC;EAAQ,CAAC,GAAGV,OAAO,CAAC,CAAC;;EAE1C;EACA,IAAIU,OAAO,EAAE;IACX,oBAAOR,OAAA;MAAKS,SAAS,EAAC,2CAA2C;MAAAL,QAAA,EAAC;IAAU;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpF;;EAEA;EACA,IAAI,CAACN,WAAW,EAAE;IAChB,oBAAOP,OAAA,CAACJ,QAAQ;MAACkB,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;;EAEA;EACA,IAAIR,YAAY,CAACW,MAAM,GAAG,CAAC,IAAI,CAACX,YAAY,CAACY,QAAQ,CAACV,WAAW,CAACW,IAAI,CAAC,EAAE;IACvE,oBAAOlB,OAAA,CAACJ,QAAQ;MAACkB,EAAE,EAAC,YAAY;MAACC,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7C;;EAEA;EACA,OAAOT,QAAQ,gBAAGJ,OAAA,CAAAE,SAAA;IAAAE,QAAA,EAAGA;EAAQ,gBAAG,CAAC,gBAAGJ,OAAA,CAACH,MAAM;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAChD,CAAC;AAACP,EAAA,CApBIH,cAAc;EAAA,QACeL,OAAO;AAAA;AAAAqB,EAAA,GADpChB,cAAc;AAsBpB,eAAeA,cAAc;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}